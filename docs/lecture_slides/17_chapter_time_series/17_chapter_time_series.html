<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Professor Davi Moreira ">

<title> MGMT 30500: Business Statistics  – MGMT 30500: Business Statistics</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-79df7ed5347781c1339259261daa236f.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-sidebar docked quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><span style="font-size: 100%;"> MGMT 30500: Business Statistics </span></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header">
      <a href="../../index.html" class="sidebar-logo-link">
      <img src="../../images/mgmt_305_ai_logo.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      <div class="sidebar-tools-main">
    <a href="https://github.com/davi-moreira/2025S_business_statistics_purdue_MGMT305" title="GitHub" class="quarto-navigation-tool px-1" aria-label="GitHub"><i class="bi bi-github"></i></a>
</div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Home</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../syllabus.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Syllabus</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../material.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Material</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../schedule.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Schedule</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview">Overview</a></li>
  <li><a href="#time-series" id="toc-time-series" class="nav-link" data-scroll-target="#time-series">Time Series</a>
  <ul class="collapse">
  <li><a href="#time-series-1" id="toc-time-series-1" class="nav-link" data-scroll-target="#time-series-1">Time Series</a></li>
  </ul></li>
  <li><a href="#forecasting-methods" id="toc-forecasting-methods" class="nav-link" data-scroll-target="#forecasting-methods">Forecasting Methods</a>
  <ul class="collapse">
  <li><a href="#forecasting-methods-1" id="toc-forecasting-methods-1" class="nav-link" data-scroll-target="#forecasting-methods-1">Forecasting Methods</a></li>
  <li><a href="#forecasting-methods-qualitative" id="toc-forecasting-methods-qualitative" class="nav-link" data-scroll-target="#forecasting-methods-qualitative">Forecasting Methods: Qualitative</a></li>
  <li><a href="#forecasting-methods-quantitative" id="toc-forecasting-methods-quantitative" class="nav-link" data-scroll-target="#forecasting-methods-quantitative">Forecasting Methods: Quantitative</a></li>
  <li><a href="#forecasting-methods-quantitative-1" id="toc-forecasting-methods-quantitative-1" class="nav-link" data-scroll-target="#forecasting-methods-quantitative-1">Forecasting Methods: Quantitative</a></li>
  <li><a href="#forecasting-methods-quantitative-2" id="toc-forecasting-methods-quantitative-2" class="nav-link" data-scroll-target="#forecasting-methods-quantitative-2">Forecasting Methods: Quantitative</a></li>
  <li><a href="#forecasting-methods-quantitative-3" id="toc-forecasting-methods-quantitative-3" class="nav-link" data-scroll-target="#forecasting-methods-quantitative-3">Forecasting Methods: Quantitative</a></li>
  <li><a href="#forecasting-methods-quantitative-4" id="toc-forecasting-methods-quantitative-4" class="nav-link" data-scroll-target="#forecasting-methods-quantitative-4">Forecasting Methods: Quantitative</a></li>
  </ul></li>
  <li><a href="#time-series-plot" id="toc-time-series-plot" class="nav-link" data-scroll-target="#time-series-plot">Time Series Plot</a>
  <ul class="collapse">
  <li><a href="#time-series-plot-1" id="toc-time-series-plot-1" class="nav-link" data-scroll-target="#time-series-plot-1">Time Series Plot</a></li>
  <li><a href="#time-series-plot-example" id="toc-time-series-plot-example" class="nav-link" data-scroll-target="#time-series-plot-example">Time Series Plot: Example</a></li>
  <li><a href="#time-series-plot-example-1" id="toc-time-series-plot-example-1" class="nav-link" data-scroll-target="#time-series-plot-example-1">Time Series Plot: Example</a></li>
  </ul></li>
  <li><a href="#time-series-patterns" id="toc-time-series-patterns" class="nav-link" data-scroll-target="#time-series-patterns">Time Series Patterns</a>
  <ul class="collapse">
  <li><a href="#time-series-patterns-1" id="toc-time-series-patterns-1" class="nav-link" data-scroll-target="#time-series-patterns-1">Time Series Patterns</a></li>
  <li><a href="#time-series-patterns-horizontal-pattern" id="toc-time-series-patterns-horizontal-pattern" class="nav-link" data-scroll-target="#time-series-patterns-horizontal-pattern">Time Series Patterns: Horizontal Pattern</a></li>
  <li><a href="#time-series-patterns-horizontal-pattern-1" id="toc-time-series-patterns-horizontal-pattern-1" class="nav-link" data-scroll-target="#time-series-patterns-horizontal-pattern-1">Time Series Patterns: Horizontal Pattern</a></li>
  <li><a href="#time-series-patterns-trend-pattern" id="toc-time-series-patterns-trend-pattern" class="nav-link" data-scroll-target="#time-series-patterns-trend-pattern">Time Series Patterns: Trend Pattern</a></li>
  <li><a href="#time-series-patterns-seasonal-pattern" id="toc-time-series-patterns-seasonal-pattern" class="nav-link" data-scroll-target="#time-series-patterns-seasonal-pattern">Time Series Patterns: Seasonal Pattern</a></li>
  <li><a href="#time-series-patterns-trend-and-seasonal-pattern" id="toc-time-series-patterns-trend-and-seasonal-pattern" class="nav-link" data-scroll-target="#time-series-patterns-trend-and-seasonal-pattern">Time Series Patterns: Trend and Seasonal Pattern</a></li>
  <li><a href="#time-series-patterns-cyclical-pattern" id="toc-time-series-patterns-cyclical-pattern" class="nav-link" data-scroll-target="#time-series-patterns-cyclical-pattern">Time Series Patterns: Cyclical Pattern</a></li>
  </ul></li>
  <li><a href="#time-series-plot-2" id="toc-time-series-plot-2" class="nav-link" data-scroll-target="#time-series-plot-2">Time Series Plot</a>
  <ul class="collapse">
  <li><a href="#using-excels-chart-tools-to-construct-a-time-series-plot" id="toc-using-excels-chart-tools-to-construct-a-time-series-plot" class="nav-link" data-scroll-target="#using-excels-chart-tools-to-construct-a-time-series-plot">Using Excel’s Chart Tools to Construct a Time Series Plot</a></li>
  </ul></li>
  <li><a href="#selecting-a-forecasting-method" id="toc-selecting-a-forecasting-method" class="nav-link" data-scroll-target="#selecting-a-forecasting-method">Selecting a Forecasting Method</a>
  <ul class="collapse">
  <li><a href="#selecting-a-forecasting-method-1" id="toc-selecting-a-forecasting-method-1" class="nav-link" data-scroll-target="#selecting-a-forecasting-method-1">Selecting a Forecasting Method</a></li>
  </ul></li>
  <li><a href="#forecast-accuracy" id="toc-forecast-accuracy" class="nav-link" data-scroll-target="#forecast-accuracy">Forecast Accuracy</a>
  <ul class="collapse">
  <li><a href="#forecast-accuracy-1" id="toc-forecast-accuracy-1" class="nav-link" data-scroll-target="#forecast-accuracy-1">Forecast Accuracy</a></li>
  <li><a href="#forecast-accuracy-2" id="toc-forecast-accuracy-2" class="nav-link" data-scroll-target="#forecast-accuracy-2">Forecast Accuracy</a></li>
  <li><a href="#forecast-accuracy-3" id="toc-forecast-accuracy-3" class="nav-link" data-scroll-target="#forecast-accuracy-3">Forecast Accuracy</a></li>
  <li><a href="#forecast-accuracy-4" id="toc-forecast-accuracy-4" class="nav-link" data-scroll-target="#forecast-accuracy-4">Forecast Accuracy</a></li>
  <li><a href="#forecast-accuracy-example-naïve-forecast" id="toc-forecast-accuracy-example-naïve-forecast" class="nav-link" data-scroll-target="#forecast-accuracy-example-naïve-forecast">Forecast Accuracy: Example Naïve Forecast</a></li>
  <li><a href="#forecast-accuracy-example-naïve-forecast-1" id="toc-forecast-accuracy-example-naïve-forecast-1" class="nav-link" data-scroll-target="#forecast-accuracy-example-naïve-forecast-1">Forecast Accuracy: Example Naïve Forecast</a></li>
  <li><a href="#forecast-accuracy-example-naïve-forecast-2" id="toc-forecast-accuracy-example-naïve-forecast-2" class="nav-link" data-scroll-target="#forecast-accuracy-example-naïve-forecast-2">Forecast Accuracy: Example Naïve Forecast</a></li>
  <li><a href="#forecast-accuracy-example-historical-data-average" id="toc-forecast-accuracy-example-historical-data-average" class="nav-link" data-scroll-target="#forecast-accuracy-example-historical-data-average">Forecast Accuracy: Example Historical Data Average</a></li>
  <li><a href="#forecast-accuracy-example-historical-data-average-1" id="toc-forecast-accuracy-example-historical-data-average-1" class="nav-link" data-scroll-target="#forecast-accuracy-example-historical-data-average-1">Forecast Accuracy: Example Historical Data Average</a></li>
  <li><a href="#forecast-accuracy-example-historical-data-average-2" id="toc-forecast-accuracy-example-historical-data-average-2" class="nav-link" data-scroll-target="#forecast-accuracy-example-historical-data-average-2">Forecast Accuracy: Example Historical Data Average</a></li>
  <li><a href="#forecast-accuracy-comparison-of-forecasting-methods" id="toc-forecast-accuracy-comparison-of-forecasting-methods" class="nav-link" data-scroll-target="#forecast-accuracy-comparison-of-forecasting-methods">Forecast Accuracy: Comparison of Forecasting Methods</a></li>
  <li><a href="#importance-of-forecast-accuracy-and-adaptability" id="toc-importance-of-forecast-accuracy-and-adaptability" class="nav-link" data-scroll-target="#importance-of-forecast-accuracy-and-adaptability">Importance of Forecast Accuracy and Adaptability</a></li>
  </ul></li>
  <li><a href="#moving-averages-and-exponential-smoothing" id="toc-moving-averages-and-exponential-smoothing" class="nav-link" data-scroll-target="#moving-averages-and-exponential-smoothing">Moving Averages and Exponential Smoothing</a>
  <ul class="collapse">
  <li><a href="#moving-averages-and-exponential-smoothing-1" id="toc-moving-averages-and-exponential-smoothing-1" class="nav-link" data-scroll-target="#moving-averages-and-exponential-smoothing-1">Moving Averages and Exponential Smoothing</a></li>
  </ul></li>
  <li><a href="#moving-averages" id="toc-moving-averages" class="nav-link" data-scroll-target="#moving-averages">Moving Averages</a>
  <ul class="collapse">
  <li><a href="#moving-averages-1" id="toc-moving-averages-1" class="nav-link" data-scroll-target="#moving-averages-1">Moving Averages</a></li>
  <li><a href="#moving-averages-2" id="toc-moving-averages-2" class="nav-link" data-scroll-target="#moving-averages-2">Moving Averages</a></li>
  <li><a href="#moving-averages-3" id="toc-moving-averages-3" class="nav-link" data-scroll-target="#moving-averages-3">Moving Averages</a></li>
  <li><a href="#moving-averages-4" id="toc-moving-averages-4" class="nav-link" data-scroll-target="#moving-averages-4">Moving Averages</a></li>
  <li><a href="#moving-averages-plot" id="toc-moving-averages-plot" class="nav-link" data-scroll-target="#moving-averages-plot">Moving Averages Plot</a></li>
  <li><a href="#moving-averages-excel" id="toc-moving-averages-excel" class="nav-link" data-scroll-target="#moving-averages-excel">Moving Averages: Excel</a></li>
  </ul></li>
  <li><a href="#weighted-moving-averages" id="toc-weighted-moving-averages" class="nav-link" data-scroll-target="#weighted-moving-averages">Weighted Moving Averages</a>
  <ul class="collapse">
  <li><a href="#weighted-moving-averages-1" id="toc-weighted-moving-averages-1" class="nav-link" data-scroll-target="#weighted-moving-averages-1">Weighted Moving Averages</a></li>
  <li><a href="#weighted-moving-averages-2" id="toc-weighted-moving-averages-2" class="nav-link" data-scroll-target="#weighted-moving-averages-2">Weighted Moving Averages</a></li>
  </ul></li>
  <li><a href="#exponential-smoothing-forecast" id="toc-exponential-smoothing-forecast" class="nav-link" data-scroll-target="#exponential-smoothing-forecast">Exponential Smoothing Forecast</a>
  <ul class="collapse">
  <li><a href="#exponential-smoothing-forecast-1" id="toc-exponential-smoothing-forecast-1" class="nav-link" data-scroll-target="#exponential-smoothing-forecast-1">Exponential Smoothing Forecast</a></li>
  <li><a href="#exponential-smoothing-forecast-2" id="toc-exponential-smoothing-forecast-2" class="nav-link" data-scroll-target="#exponential-smoothing-forecast-2">Exponential Smoothing Forecast</a></li>
  <li><a href="#exponential-smoothing-forecast-3" id="toc-exponential-smoothing-forecast-3" class="nav-link" data-scroll-target="#exponential-smoothing-forecast-3">Exponential Smoothing Forecast</a></li>
  <li><a href="#exponential-smoothing-forecast-4" id="toc-exponential-smoothing-forecast-4" class="nav-link" data-scroll-target="#exponential-smoothing-forecast-4">Exponential Smoothing Forecast</a></li>
  <li><a href="#exponential-smoothing-forecast-example" id="toc-exponential-smoothing-forecast-example" class="nav-link" data-scroll-target="#exponential-smoothing-forecast-example">Exponential Smoothing Forecast: Example</a></li>
  <li><a href="#exponential-smoothing-forecast-example-1" id="toc-exponential-smoothing-forecast-example-1" class="nav-link" data-scroll-target="#exponential-smoothing-forecast-example-1">Exponential Smoothing Forecast: Example</a></li>
  <li><a href="#exponential-smoothing-forecast-example-2" id="toc-exponential-smoothing-forecast-example-2" class="nav-link" data-scroll-target="#exponential-smoothing-forecast-example-2">Exponential Smoothing Forecast: Example</a></li>
  <li><a href="#exponential-smoothing-forecast-example-3" id="toc-exponential-smoothing-forecast-example-3" class="nav-link" data-scroll-target="#exponential-smoothing-forecast-example-3">Exponential Smoothing Forecast: Example</a></li>
  <li><a href="#exponential-smoothing-forecast-example-4" id="toc-exponential-smoothing-forecast-example-4" class="nav-link" data-scroll-target="#exponential-smoothing-forecast-example-4">Exponential Smoothing Forecast: Example</a></li>
  <li><a href="#exponential-smoothing-forecast-excel" id="toc-exponential-smoothing-forecast-excel" class="nav-link" data-scroll-target="#exponential-smoothing-forecast-excel">Exponential Smoothing Forecast: Excel</a></li>
  <li><a href="#exponential-smoothing-forecast-excel-1" id="toc-exponential-smoothing-forecast-excel-1" class="nav-link" data-scroll-target="#exponential-smoothing-forecast-excel-1">Exponential Smoothing Forecast: Excel</a></li>
  </ul></li>
  <li><a href="#forecast-with-lag-variables" id="toc-forecast-with-lag-variables" class="nav-link" data-scroll-target="#forecast-with-lag-variables">Forecast with Lag Variables</a>
  <ul class="collapse">
  <li><a href="#forecast-with-lag-variables-1" id="toc-forecast-with-lag-variables-1" class="nav-link" data-scroll-target="#forecast-with-lag-variables-1">Forecast with Lag Variables</a></li>
  <li><a href="#forecast-with-lag-variables-global-apple-iphone-quarterly-sales" id="toc-forecast-with-lag-variables-global-apple-iphone-quarterly-sales" class="nav-link" data-scroll-target="#forecast-with-lag-variables-global-apple-iphone-quarterly-sales">Forecast with Lag Variables: Global Apple iPhone Quarterly Sales</a></li>
  <li><a href="#forecast-with-lag-variables-2" id="toc-forecast-with-lag-variables-2" class="nav-link" data-scroll-target="#forecast-with-lag-variables-2">Forecast with Lag Variables</a></li>
  <li><a href="#forecast-with-lag-variables-correlations" id="toc-forecast-with-lag-variables-correlations" class="nav-link" data-scroll-target="#forecast-with-lag-variables-correlations">Forecast with Lag Variables: Correlations</a></li>
  <li><a href="#forecast-with-lag-variables-full-model" id="toc-forecast-with-lag-variables-full-model" class="nav-link" data-scroll-target="#forecast-with-lag-variables-full-model">Forecast with Lag Variables: Full Model</a></li>
  <li><a href="#forecast-with-lag-variables-reduced-model" id="toc-forecast-with-lag-variables-reduced-model" class="nav-link" data-scroll-target="#forecast-with-lag-variables-reduced-model">Forecast with Lag Variables: Reduced Model</a></li>
  <li><a href="#forecast-with-lag-variables-excel" id="toc-forecast-with-lag-variables-excel" class="nav-link" data-scroll-target="#forecast-with-lag-variables-excel">Forecast with Lag Variables: Excel</a></li>
  </ul></li>
  <li><a href="#trend-projection" id="toc-trend-projection" class="nav-link" data-scroll-target="#trend-projection">Trend Projection</a>
  <ul class="collapse">
  <li><a href="#trend-projection-1" id="toc-trend-projection-1" class="nav-link" data-scroll-target="#trend-projection-1">Trend Projection</a></li>
  </ul></li>
  <li><a href="#linear-trend-regression" id="toc-linear-trend-regression" class="nav-link" data-scroll-target="#linear-trend-regression">Linear Trend Regression</a>
  <ul class="collapse">
  <li><a href="#linear-trend-regression-1" id="toc-linear-trend-regression-1" class="nav-link" data-scroll-target="#linear-trend-regression-1">Linear Trend Regression</a></li>
  <li><a href="#linear-trend-regression-2" id="toc-linear-trend-regression-2" class="nav-link" data-scroll-target="#linear-trend-regression-2">Linear Trend Regression</a></li>
  <li><a href="#linear-trend-regression-3" id="toc-linear-trend-regression-3" class="nav-link" data-scroll-target="#linear-trend-regression-3">Linear Trend Regression</a></li>
  <li><a href="#linear-trend-regression-example" id="toc-linear-trend-regression-example" class="nav-link" data-scroll-target="#linear-trend-regression-example">Linear Trend Regression: Example</a></li>
  <li><a href="#linear-trend-regression-example-1" id="toc-linear-trend-regression-example-1" class="nav-link" data-scroll-target="#linear-trend-regression-example-1">Linear Trend Regression: Example</a></li>
  <li><a href="#linear-trend-regression-example-2" id="toc-linear-trend-regression-example-2" class="nav-link" data-scroll-target="#linear-trend-regression-example-2">Linear Trend Regression: Example</a></li>
  <li><a href="#linear-trend-regression-example-3" id="toc-linear-trend-regression-example-3" class="nav-link" data-scroll-target="#linear-trend-regression-example-3">Linear Trend Regression: Example</a></li>
  <li><a href="#regression-output-example-excel" id="toc-regression-output-example-excel" class="nav-link" data-scroll-target="#regression-output-example-excel">Regression Output: Example Excel</a></li>
  </ul></li>
  <li><a href="#nonlinear-trend-regression" id="toc-nonlinear-trend-regression" class="nav-link" data-scroll-target="#nonlinear-trend-regression">Nonlinear Trend Regression</a>
  <ul class="collapse">
  <li><a href="#nonlinear-trend-regression-1" id="toc-nonlinear-trend-regression-1" class="nav-link" data-scroll-target="#nonlinear-trend-regression-1">Nonlinear Trend Regression</a></li>
  <li><a href="#nonlinear-trend-regression-example" id="toc-nonlinear-trend-regression-example" class="nav-link" data-scroll-target="#nonlinear-trend-regression-example">Nonlinear Trend Regression: Example</a></li>
  <li><a href="#nonlinear-trend-regression-example-excel" id="toc-nonlinear-trend-regression-example-excel" class="nav-link" data-scroll-target="#nonlinear-trend-regression-example-excel">Nonlinear Trend Regression: Example Excel</a></li>
  <li><a href="#nonlinear-trend-regression-example-excel-1" id="toc-nonlinear-trend-regression-example-excel-1" class="nav-link" data-scroll-target="#nonlinear-trend-regression-example-excel-1">Nonlinear Trend Regression: Example Excel</a></li>
  </ul></li>
  <li><a href="#seasonality-without-trend" id="toc-seasonality-without-trend" class="nav-link" data-scroll-target="#seasonality-without-trend">Seasonality Without Trend</a>
  <ul class="collapse">
  <li><a href="#seasonality-without-trend-1" id="toc-seasonality-without-trend-1" class="nav-link" data-scroll-target="#seasonality-without-trend-1">Seasonality Without Trend</a></li>
  <li><a href="#seasonality-without-trend-example" id="toc-seasonality-without-trend-example" class="nav-link" data-scroll-target="#seasonality-without-trend-example">Seasonality Without Trend: Example</a></li>
  <li><a href="#seasonality-without-trend-example-1" id="toc-seasonality-without-trend-example-1" class="nav-link" data-scroll-target="#seasonality-without-trend-example-1">Seasonality Without Trend: Example</a></li>
  <li><a href="#seasonality-without-trend-example-2" id="toc-seasonality-without-trend-example-2" class="nav-link" data-scroll-target="#seasonality-without-trend-example-2">Seasonality Without Trend: Example</a></li>
  <li><a href="#seasonality-without-trend-example-3" id="toc-seasonality-without-trend-example-3" class="nav-link" data-scroll-target="#seasonality-without-trend-example-3">Seasonality Without Trend: Example</a></li>
  <li><a href="#seasonality-without-trend-example-4" id="toc-seasonality-without-trend-example-4" class="nav-link" data-scroll-target="#seasonality-without-trend-example-4">Seasonality Without Trend: Example</a></li>
  <li><a href="#seasonality-without-trend-example-5" id="toc-seasonality-without-trend-example-5" class="nav-link" data-scroll-target="#seasonality-without-trend-example-5">Seasonality Without Trend: Example</a></li>
  </ul></li>
  <li><a href="#seasonality-and-trend" id="toc-seasonality-and-trend" class="nav-link" data-scroll-target="#seasonality-and-trend">Seasonality and Trend</a>
  <ul class="collapse">
  <li><a href="#seasonality-and-trend-example" id="toc-seasonality-and-trend-example" class="nav-link" data-scroll-target="#seasonality-and-trend-example">Seasonality and Trend: Example</a></li>
  <li><a href="#seasonality-and-trend-example-1" id="toc-seasonality-and-trend-example-1" class="nav-link" data-scroll-target="#seasonality-and-trend-example-1">Seasonality and Trend: Example</a></li>
  <li><a href="#seasonality-and-trend-example-2" id="toc-seasonality-and-trend-example-2" class="nav-link" data-scroll-target="#seasonality-and-trend-example-2">Seasonality and Trend: Example</a></li>
  <li><a href="#seasonality-and-trend-example-3" id="toc-seasonality-and-trend-example-3" class="nav-link" data-scroll-target="#seasonality-and-trend-example-3">Seasonality and Trend: Example</a></li>
  <li><a href="#seasonality-and-trend-example-4" id="toc-seasonality-and-trend-example-4" class="nav-link" data-scroll-target="#seasonality-and-trend-example-4">Seasonality and Trend: Example</a></li>
  </ul></li>
  <li><a href="#time-series-decomposition" id="toc-time-series-decomposition" class="nav-link" data-scroll-target="#time-series-decomposition">Time Series Decomposition</a>
  <ul class="collapse">
  <li><a href="#time-series-decomposition-motivation" id="toc-time-series-decomposition-motivation" class="nav-link" data-scroll-target="#time-series-decomposition-motivation">Time Series Decomposition: Motivation</a></li>
  <li><a href="#time-series-decomposition-1" id="toc-time-series-decomposition-1" class="nav-link" data-scroll-target="#time-series-decomposition-1">Time Series Decomposition</a></li>
  <li><a href="#choosing-between-additive-and-multiplicative-models" id="toc-choosing-between-additive-and-multiplicative-models" class="nav-link" data-scroll-target="#choosing-between-additive-and-multiplicative-models">Choosing Between Additive and Multiplicative Models</a></li>
  <li><a href="#additive-decomposition-model" id="toc-additive-decomposition-model" class="nav-link" data-scroll-target="#additive-decomposition-model">Additive Decomposition Model</a></li>
  <li><a href="#additive-decomposition-model-1" id="toc-additive-decomposition-model-1" class="nav-link" data-scroll-target="#additive-decomposition-model-1">Additive Decomposition Model</a></li>
  <li><a href="#multiplicative-decomposition-model" id="toc-multiplicative-decomposition-model" class="nav-link" data-scroll-target="#multiplicative-decomposition-model">Multiplicative Decomposition Model</a></li>
  <li><a href="#multiplicative-decomposition-model-1" id="toc-multiplicative-decomposition-model-1" class="nav-link" data-scroll-target="#multiplicative-decomposition-model-1">Multiplicative Decomposition Model</a></li>
  <li><a href="#multiplicative-decomposition-model-example" id="toc-multiplicative-decomposition-model-example" class="nav-link" data-scroll-target="#multiplicative-decomposition-model-example">Multiplicative Decomposition Model: Example</a></li>
  <li><a href="#procedures-overview" id="toc-procedures-overview" class="nav-link" data-scroll-target="#procedures-overview">Procedures: Overview</a></li>
  <li><a href="#multiplicative-decomposition-model-example-step-1" id="toc-multiplicative-decomposition-model-example-step-1" class="nav-link" data-scroll-target="#multiplicative-decomposition-model-example-step-1">Multiplicative Decomposition Model: Example (Step 1)</a></li>
  <li><a href="#multiplicative-decomposition-model-example-step-1-1" id="toc-multiplicative-decomposition-model-example-step-1-1" class="nav-link" data-scroll-target="#multiplicative-decomposition-model-example-step-1-1">Multiplicative Decomposition Model: Example (Step 1)</a></li>
  <li><a href="#multiplicative-decomposition-model-example-step-1-2" id="toc-multiplicative-decomposition-model-example-step-1-2" class="nav-link" data-scroll-target="#multiplicative-decomposition-model-example-step-1-2">Multiplicative Decomposition Model: Example (Step 1)</a></li>
  <li><a href="#multiplicative-decomposition-model-example-step-1-3" id="toc-multiplicative-decomposition-model-example-step-1-3" class="nav-link" data-scroll-target="#multiplicative-decomposition-model-example-step-1-3">Multiplicative Decomposition Model: Example (Step 1)</a></li>
  <li><a href="#multiplicative-decomposition-model-example-step-2" id="toc-multiplicative-decomposition-model-example-step-2" class="nav-link" data-scroll-target="#multiplicative-decomposition-model-example-step-2">Multiplicative Decomposition Model: Example (Step 2)</a></li>
  <li><a href="#multiplicative-decomposition-model-example-step-2-1" id="toc-multiplicative-decomposition-model-example-step-2-1" class="nav-link" data-scroll-target="#multiplicative-decomposition-model-example-step-2-1">Multiplicative Decomposition Model: Example (Step 2)</a></li>
  <li><a href="#multiplicative-decomposition-model-example-step-2-2" id="toc-multiplicative-decomposition-model-example-step-2-2" class="nav-link" data-scroll-target="#multiplicative-decomposition-model-example-step-2-2">Multiplicative Decomposition Model: Example (Step 2)</a></li>
  <li><a href="#multiplicative-decomposition-model-example-step-2-3" id="toc-multiplicative-decomposition-model-example-step-2-3" class="nav-link" data-scroll-target="#multiplicative-decomposition-model-example-step-2-3">Multiplicative Decomposition Model: Example (Step 2)</a></li>
  <li><a href="#multiplicative-decomposition-model-example-step-3" id="toc-multiplicative-decomposition-model-example-step-3" class="nav-link" data-scroll-target="#multiplicative-decomposition-model-example-step-3">Multiplicative Decomposition Model: Example (Step 3)</a></li>
  <li><a href="#multiplicative-decomposition-model-example-step-4" id="toc-multiplicative-decomposition-model-example-step-4" class="nav-link" data-scroll-target="#multiplicative-decomposition-model-example-step-4">Multiplicative Decomposition Model: Example (Step 4)</a></li>
  <li><a href="#multiplicative-decomposition-model-example-step-4-1" id="toc-multiplicative-decomposition-model-example-step-4-1" class="nav-link" data-scroll-target="#multiplicative-decomposition-model-example-step-4-1">Multiplicative Decomposition Model: Example (Step 4)</a></li>
  <li><a href="#multiplicative-decomposition-model-example-step-4-2" id="toc-multiplicative-decomposition-model-example-step-4-2" class="nav-link" data-scroll-target="#multiplicative-decomposition-model-example-step-4-2">Multiplicative Decomposition Model: Example (Step 4)</a></li>
  <li><a href="#multiplicative-decomposition-model-example-step-4-3" id="toc-multiplicative-decomposition-model-example-step-4-3" class="nav-link" data-scroll-target="#multiplicative-decomposition-model-example-step-4-3">Multiplicative Decomposition Model: Example (Step 4)</a></li>
  <li><a href="#multiplicative-decomposition-model-example-step-4-4" id="toc-multiplicative-decomposition-model-example-step-4-4" class="nav-link" data-scroll-target="#multiplicative-decomposition-model-example-step-4-4">Multiplicative Decomposition Model: Example (Step 4)</a></li>
  <li><a href="#multiplicative-decomposition-model-example-step-4-5" id="toc-multiplicative-decomposition-model-example-step-4-5" class="nav-link" data-scroll-target="#multiplicative-decomposition-model-example-step-4-5">Multiplicative Decomposition Model: Example (Step 4)</a></li>
  <li><a href="#multiplicative-decomposition-model-example-step-4-6" id="toc-multiplicative-decomposition-model-example-step-4-6" class="nav-link" data-scroll-target="#multiplicative-decomposition-model-example-step-4-6">Multiplicative Decomposition Model: Example (Step 4)</a></li>
  <li><a href="#multiplicative-decomposition-model-example-step-4-7" id="toc-multiplicative-decomposition-model-example-step-4-7" class="nav-link" data-scroll-target="#multiplicative-decomposition-model-example-step-4-7">Multiplicative Decomposition Model: Example (Step 4)</a></li>
  <li><a href="#deseasonalizing-the-time-series-step-5" id="toc-deseasonalizing-the-time-series-step-5" class="nav-link" data-scroll-target="#deseasonalizing-the-time-series-step-5">Deseasonalizing the Time Series (Step 5)</a></li>
  <li><a href="#deseasonalized-sales-data-table-step-5" id="toc-deseasonalized-sales-data-table-step-5" class="nav-link" data-scroll-target="#deseasonalized-sales-data-table-step-5">Deseasonalized Sales Data Table (Step 5)</a></li>
  <li><a href="#deseasonalized-sales-plot-step-5" id="toc-deseasonalized-sales-plot-step-5" class="nav-link" data-scroll-target="#deseasonalized-sales-plot-step-5">Deseasonalized Sales Plot (Step 5)</a></li>
  <li><a href="#deseasonalizing-the-time-series-step-5-1" id="toc-deseasonalizing-the-time-series-step-5-1" class="nav-link" data-scroll-target="#deseasonalizing-the-time-series-step-5-1">Deseasonalizing the Time Series (Step 5)</a></li>
  <li><a href="#deseasonalizing-the-time-series-linear-trend-equation-step-6" id="toc-deseasonalizing-the-time-series-linear-trend-equation-step-6" class="nav-link" data-scroll-target="#deseasonalizing-the-time-series-linear-trend-equation-step-6">Deseasonalizing the Time Series: Linear Trend Equation (Step 6)</a></li>
  <li><a href="#deseasonalizing-the-time-series-fitting-a-linear-trend-line-step-6" id="toc-deseasonalizing-the-time-series-fitting-a-linear-trend-line-step-6" class="nav-link" data-scroll-target="#deseasonalizing-the-time-series-fitting-a-linear-trend-line-step-6">Deseasonalizing the Time Series: Fitting a Linear Trend Line (Step 6)</a></li>
  <li><a href="#deseasonalizing-the-time-series-interpretation-of-the-slope-step-6" id="toc-deseasonalizing-the-time-series-interpretation-of-the-slope-step-6" class="nav-link" data-scroll-target="#deseasonalizing-the-time-series-interpretation-of-the-slope-step-6">Deseasonalizing the Time Series: Interpretation of the Slope (Step 6)</a></li>
  <li><a href="#deseasonalizing-the-time-series-example-projection-step-7" id="toc-deseasonalizing-the-time-series-example-projection-step-7" class="nav-link" data-scroll-target="#deseasonalizing-the-time-series-example-projection-step-7">Deseasonalizing the Time Series: Example Projection (Step 7)</a></li>
  <li><a href="#seasonal-adjustments-step-8" id="toc-seasonal-adjustments-step-8" class="nav-link" data-scroll-target="#seasonal-adjustments-step-8">Seasonal Adjustments (Step 8)</a></li>
  <li><a href="#seasonal-adjustments-quarterly-forecasts-table-step-8" id="toc-seasonal-adjustments-quarterly-forecasts-table-step-8" class="nav-link" data-scroll-target="#seasonal-adjustments-quarterly-forecasts-table-step-8">Seasonal Adjustments: Quarterly Forecasts Table (Step 8)</a></li>
  <li><a href="#cyclical-component" id="toc-cyclical-component" class="nav-link" data-scroll-target="#cyclical-component">Cyclical Component</a></li>
  <li><a href="#cyclical-component-challenges" id="toc-cyclical-component-challenges" class="nav-link" data-scroll-target="#cyclical-component-challenges">Cyclical Component: Challenges</a></li>
  </ul></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary">Summary</a>
  <ul class="collapse">
  <li><a href="#summary-1" id="toc-summary-1" class="nav-link" data-scroll-target="#summary-1">Summary</a></li>
  <li><a href="#summary-2" id="toc-summary-2" class="nav-link" data-scroll-target="#summary-2">Summary</a></li>
  </ul></li>
  <li><a href="#thank-you" id="toc-thank-you" class="nav-link" data-scroll-target="#thank-you">Thank you!</a></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="17_chapter_time_series.html"><i class="bi bi-file-slides"></i>RevealJS</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span style="font-size: 100%;"> MGMT 30500: Business Statistics </span></h1>
<p class="subtitle lead"><span style="font-size: 150%;"> Time Series and Forecasting </span></p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Professor<br>Davi Moreira<br> </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="overview" class="level2">
<h2 class="anchored" data-anchor-id="overview">Overview</h2>
<div class="nonincremental">
<div class="columns">
<div class="column" style="text-align: center; justify-content: center; align-items: center;">
<ul>
<li>Time Series and Time Series Patterns</li>
<li>Forecast Accuracy – Definitions</li>
<li>Naïve Forecasting Method</li>
<li>Moving Averages</li>
<li>Exponential Smoothing</li>
</ul>
</div><div class="column" style="text-align: center; justify-content: center; align-items: center;">
<ul>
<li>Lag Variables</li>
<li>Trend Projection</li>
<li>Seasonality without Trend</li>
<li>Seasonality and Trend</li>
</ul>
</div>
</div>
</div>
</section>
<section id="time-series" class="level1" data-background-color="#cfb991">
<h1 data-background-color="#cfb991">Time Series</h1>
<section id="time-series-1" class="level2">
<h2 class="anchored" data-anchor-id="time-series-1">Time Series</h2>
<ul>
<li><p>Time series are especially important in business applications since they are involved in forecasting (revenues, expenses, stock prices, inventory levels, etc.).</p></li>
<li><p>A time series is a sequence of measurements (of a variable) taken every hour, day, week, month, quarter, year, or any other regular time interval.</p></li>
<li><p>The pattern of the data is crucial for understanding how the time series has behaved over time.</p></li>
<li><p>If such behavior can be expected to continue in the future, we can use it to select an appropriate forecasting method.</p></li>
</ul>
</section>
</section>
<section id="forecasting-methods" class="level1" data-background-color="#cfb991">
<h1 data-background-color="#cfb991">Forecasting Methods</h1>
<section id="forecasting-methods-1" class="level2">
<h2 class="anchored" data-anchor-id="forecasting-methods-1">Forecasting Methods</h2>
<p><br></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/forecasting_methods.jpg" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%"></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
</section>
<section id="forecasting-methods-qualitative" class="level2">
<h2 class="anchored" data-anchor-id="forecasting-methods-qualitative">Forecasting Methods: Qualitative</h2>
<p><br></p>
<ul>
<li><p>Forecasting methods can be classified as <strong>qualitative</strong> or <strong>quantitative</strong>.</p></li>
<li><p><strong>Qualitative methods</strong> generally involve expert judgment to develop forecasts.</p>
<ul>
<li>Such methods are appropriate when historical data are not applicable or unavailable.</li>
</ul></li>
<li><p>We will focus on <strong>quantitative forecasting methods</strong>.</p></li>
</ul>
</section>
<section id="forecasting-methods-quantitative" class="level2">
<h2 class="anchored" data-anchor-id="forecasting-methods-quantitative">Forecasting Methods: Quantitative</h2>
<ul>
<li><p><strong>Quantitative forecasting methods</strong> can be used when:</p>
<ul>
<li>Past information about the variable being forecast is available,</li>
<li>The information can be quantified,</li>
<li>It is reasonable to assume that the pattern of the past will continue.</li>
</ul></li>
<li><p>In such cases, a forecast can be developed using a time series or a causal method.</p></li>
</ul>
</section>
<section id="forecasting-methods-quantitative-1" class="level2">
<h2 class="anchored" data-anchor-id="forecasting-methods-quantitative-1">Forecasting Methods: Quantitative</h2>
<ul>
<li><p><strong>Quantitative methods</strong> are based on an analysis of historical data concerning one or more time series.</p></li>
<li><p>A time series is a set of observations measured at successive points in time.</p></li>
<li><p><strong>Time Series Method</strong>: Restricts data to past values of the series.</p></li>
<li><p><strong>Causal Method</strong>: Uses other time series believed to be related to the time series to be forecasted.</p></li>
</ul>
</section>
<section id="forecasting-methods-quantitative-2" class="level2">
<h2 class="anchored" data-anchor-id="forecasting-methods-quantitative-2">Forecasting Methods: Quantitative</h2>
<ul>
<li><p><strong>Time Series Analysis</strong></p>
<ul>
<li>The objective is to discover a pattern in historical data and extrapolate it into the future.</li>
<li>The forecast is based solely on past values of the variable or past forecast errors.</li>
</ul></li>
</ul>
</section>
<section id="forecasting-methods-quantitative-3" class="level2">
<h2 class="anchored" data-anchor-id="forecasting-methods-quantitative-3">Forecasting Methods: Quantitative</h2>
<ul>
<li><p><strong>Causal Methods</strong></p>
<ul>
<li>Assumes the variable being forecasted has a cause-effect relationship with other variables.</li>
<li>Regression analysis can be used to forecast the time series value as the dependent variable.</li>
<li>Identifying related independent variables can help in developing a regression equation for forecasting.</li>
</ul></li>
</ul>
</section>
<section id="forecasting-methods-quantitative-4" class="level2">
<h2 class="anchored" data-anchor-id="forecasting-methods-quantitative-4">Forecasting Methods: Quantitative</h2>
<p><br></p>
<ul>
<li><p><strong>Regression Analysis</strong>: Time is treated as the independent variable, and the time series as the dependent variable.</p></li>
<li><p><strong>Time-Series Regression</strong>: The sole independent variable is time.</p></li>
<li><p><strong>Cross-Sectional Regression</strong>: The independent variables are something other than time.</p></li>
</ul>
</section>
</section>
<section id="time-series-plot" class="level1" data-background-color="#cfb991">
<h1 data-background-color="#cfb991">Time Series Plot</h1>
<section id="time-series-plot-1" class="level2">
<h2 class="anchored" data-anchor-id="time-series-plot-1">Time Series Plot</h2>
<ul>
<li><p>The first step in selecting an appropriate forecasting method is to construct a <strong>time series plot</strong> to identify patterns.</p></li>
<li><p>A time series plot is a graphical presentation of the relationship between time and the time series variable.</p></li>
<li><p>It is a scatterplot where time is on the horizontal axis, and the time series values are on the vertical axis.</p></li>
</ul>
</section>
<section id="time-series-plot-example" class="level2">
<h2 class="anchored" data-anchor-id="time-series-plot-example">Time Series Plot: Example</h2>
<p><strong>Gasoline sale time series</strong></p>
<p>The number of gallons of gasoline sold by a gasoline distributor over a period of 12 weeks is given in the table below. The distributor would like to identify the underlying pattern in the data to guide it in selecting an appropriate forecasting method.</p>
<div style="font-size: 65%;">
<table class="caption-top table">
<thead>
<tr class="header">
<th><strong>Week</strong></th>
<th>Sales</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>1</strong></td>
<td>17</td>
</tr>
<tr class="even">
<td><strong>2</strong></td>
<td>21</td>
</tr>
<tr class="odd">
<td><strong>3</strong></td>
<td>19</td>
</tr>
<tr class="even">
<td><strong>4</strong></td>
<td>23</td>
</tr>
<tr class="odd">
<td><strong>5</strong></td>
<td>18</td>
</tr>
<tr class="even">
<td><strong>6</strong></td>
<td>16</td>
</tr>
<tr class="odd">
<td><strong>7</strong></td>
<td>20</td>
</tr>
<tr class="even">
<td><strong>8</strong></td>
<td>18</td>
</tr>
<tr class="odd">
<td><strong>9</strong></td>
<td>22</td>
</tr>
<tr class="even">
<td><strong>10</strong></td>
<td>20</td>
</tr>
<tr class="odd">
<td><strong>11</strong></td>
<td>15</td>
</tr>
<tr class="even">
<td><strong>12</strong></td>
<td>22</td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="time-series-plot-example-1" class="level2">
<h2 class="anchored" data-anchor-id="time-series-plot-example-1">Time Series Plot: Example</h2>
<p><strong>Gasoline sales time series</strong></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/gasoline_sales.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%"></p>
</figure>
</div>
</div>
</div>
<p><br></p>
</section>
</section>
<section id="time-series-patterns" class="level1" data-background-color="#cfb991">
<h1 data-background-color="#cfb991">Time Series Patterns</h1>
<section id="time-series-patterns-1" class="level2">
<h2 class="anchored" data-anchor-id="time-series-patterns-1">Time Series Patterns</h2>
<p>The common types of data patterns that can be identified when examining a time series plot include:</p>
<ul>
<li>Horizontal</li>
<li>Trend</li>
<li>Seasonal</li>
<li>Trend and Seasonal</li>
<li>Cyclical</li>
</ul>
</section>
<section id="time-series-patterns-horizontal-pattern" class="level2">
<h2 class="anchored" data-anchor-id="time-series-patterns-horizontal-pattern">Time Series Patterns: Horizontal Pattern</h2>
<div class="nonincremental">
<ul>
<li><p>A horizontal pattern exists when the data fluctuate around a constant mean.</p></li>
<li><p>Changes in business conditions can often result in a time series that shifts to a new level.</p></li>
<li><p>It is more difficult to choose an appropriate forecasting method to identify a change in the level of the time series. (The Change-time problem.)</p></li>
</ul>
<div class="columns">
<div class="column" style="text-align: center; justify-content: center; align-items: center;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/horizontal_pattern.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="text-align: center; justify-content: center; align-items: center;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/horizontal_pattern_level.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="time-series-patterns-horizontal-pattern-1" class="level2">
<h2 class="anchored" data-anchor-id="time-series-patterns-horizontal-pattern-1">Time Series Patterns: Horizontal Pattern</h2>
<p><strong>Stationary Time Series</strong></p>
<p>The term <strong>stationary time series</strong> is used to denote a time series whose statistical properties are independent of time. In particular, this means that:</p>
<ol type="1">
<li><p>The process generating the data has a constant mean.</p></li>
<li><p>The variability of the time series is constant over time.</p></li>
</ol>
<div class="fragment">
<p>A time series plot for a stationary time series will always exhibit a horizontal pattern. But simply observing a horizontal pattern is not sufficient evidence to conclude that the time series is stationary.</p>
<p>More advanced texts on forecasting discuss procedures for determining if a time series is stationary and provide methods for transforming a time series that is not stationary into a stationary series.</p>
</div>
</section>
<section id="time-series-patterns-trend-pattern" class="level2">
<h2 class="anchored" data-anchor-id="time-series-patterns-trend-pattern">Time Series Patterns: Trend Pattern</h2>
<div class="nonincremental">
<ul>
<li><p>A time series may show gradual drifts or movements to relatively higher or lower values over a longer period of time.</p></li>
<li><p>Trend is usually the result of long-term factors such as changes in the population, demographics, technology, or consumer preferences.</p></li>
<li><p>A trend pattern can be identified by analyzing multiperiod movements in historical data.</p></li>
</ul>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/trend_pattern.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="time-series-patterns-seasonal-pattern" class="level2">
<h2 class="anchored" data-anchor-id="time-series-patterns-seasonal-pattern">Time Series Patterns: Seasonal Pattern</h2>
<div class="nonincremental">
<ul>
<li><p>Seasonal patterns are recognized by seeing the same repeating pattern of highs and lows over successive periods of time (within a “short” period of time).</p></li>
<li><p>A seasonal pattern might occur within a day, week, month, quarter, or year.</p></li>
<li><p>A seasonal pattern does not necessarily refer to the four seasons of the year.</p></li>
</ul>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/seasonal_pattern.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="time-series-patterns-trend-and-seasonal-pattern" class="level2">
<h2 class="anchored" data-anchor-id="time-series-patterns-trend-and-seasonal-pattern">Time Series Patterns: Trend and Seasonal Pattern</h2>
<div class="nonincremental">
<ul>
<li><p>Some time series include a combination of a trend and seasonal pattern.</p></li>
<li><p>Time series decomposition can be used to separate or decompose a time series into trend and seasonal components.</p></li>
</ul>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/trend_seasonal_pattern.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="time-series-patterns-cyclical-pattern" class="level2">
<h2 class="anchored" data-anchor-id="time-series-patterns-cyclical-pattern">Time Series Patterns: Cyclical Pattern</h2>
<div class="nonincremental">
<ul>
<li><p>A cyclical pattern exists if the time series plot shows an alternating sequence of points below and above the trend line lasting more than one year.</p></li>
<li><p>Often, the cyclical component of a time series is due to multiyear business cycles.</p></li>
<li><p>Business cycles are difficult, if not impossible, to forecast.</p></li>
</ul>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/cyclical_pattern.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="time-series-plot-2" class="level1" data-background-color="#cfb991">
<h1 data-background-color="#cfb991">Time Series Plot</h1>
<section id="using-excels-chart-tools-to-construct-a-time-series-plot" class="level2">
<h2 class="anchored" data-anchor-id="using-excels-chart-tools-to-construct-a-time-series-plot">Using Excel’s Chart Tools to Construct a Time Series Plot</h2>
<div class="columns">
<div class="column" style="width:40%;">
<div class="nonincremental">
<div style="font-size: 60%;">
<p><br></p>
<p>A time series plot is simply a scatter diagram with lines connecting the points.</p>
<p><strong>Steps</strong></p>
<ol type="1">
<li><p><strong>Select cells A2:B13</strong> in the <code>Gasoline.xlsx</code> file.</p></li>
<li><p><strong>Click the Insert tab on the Ribbon</strong></p></li>
<li><p><strong>In the Charts group, click the Insert Scatter (X, Y) or Bubble Chart button</strong></p></li>
<li><p><strong>When the list of scatter diagram subtypes appears</strong>:</p>
<ul>
<li>Click the <em>Scatter with Straight Lines and Markers</em> button</li>
</ul></li>
</ol>
<p>The time series plot produced by Excel will appear in the same worksheet.</p>
</div>
</div>
</div><div class="column" style="width:60%;">
<p><br></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/time_series_excel.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="selecting-a-forecasting-method" class="level1" data-background-color="#cfb991">
<h1 data-background-color="#cfb991">Selecting a Forecasting Method</h1>
<section id="selecting-a-forecasting-method-1" class="level2">
<h2 class="anchored" data-anchor-id="selecting-a-forecasting-method-1">Selecting a Forecasting Method</h2>
<p><br></p>
<ul>
<li><p>The underlying pattern in the time series is an important factor in selecting a forecasting method.</p></li>
<li><p>A time series plot should be one of the first tools developed to determine what forecasting method to use.</p></li>
<li><p>If we see a horizontal pattern, then we need to select a method appropriate for this type of pattern.</p></li>
<li><p>If we observe a trend in the data, then we need to use a method that can handle the trend effectively.</p></li>
</ul>
</section>
</section>
<section id="forecast-accuracy" class="level1" data-background-color="#cfb991">
<h1 data-background-color="#cfb991">Forecast Accuracy</h1>
<section id="forecast-accuracy-1" class="level2">
<h2 class="anchored" data-anchor-id="forecast-accuracy-1">Forecast Accuracy</h2>
<p><br></p>
<ul>
<li><p>Measures of forecast accuracy are used to determine how well a particular forecasting method can reproduce the time series data that we already have.</p></li>
<li><p>Forecast accuracy measures are important factors in comparing different forecasting methods.</p></li>
<li><p>By selecting the method that has the best accuracy, we will obtain better forecasts for future time periods.</p></li>
</ul>
</section>
<section id="forecast-accuracy-2" class="level2">
<h2 class="anchored" data-anchor-id="forecast-accuracy-2">Forecast Accuracy</h2>
<div class="nonincremental">
<ul>
<li>The key concept associated with measuring forecast accuracy is <strong>forecast error</strong>:</li>
</ul>
<p><span class="math display">\[
\text{Forecast Error} = \text{Actual Observed Value} - \text{Forecast}
\]</span></p>
<p><span class="math display">\[
\text{Residual} = \text{Observed} - \text{Predicted}
\]</span></p>
<ul>
<li><p>A positive forecast error indicates the forecasting method underestimated the actual value.</p></li>
<li><p>A negative forecast error indicates the forecasting method overestimated the actual value.</p></li>
<li><p>A forecast error is basically a residual.</p></li>
</ul>
</div>
</section>
<section id="forecast-accuracy-3" class="level2">
<h2 class="anchored" data-anchor-id="forecast-accuracy-3">Forecast Accuracy</h2>
<ul>
<li><p><strong>Mean Error (ME)</strong>: ME is the mean or average of the forecast errors. Because positive and negative forecast errors tend to offset one another, the mean error is likely to be small. Thus, the mean error is not a very useful measure.</p></li>
<li><p><strong>Mean Absolute Error (MAE)</strong>: MAE avoids the problem of positive and negative errors offsetting one another. It is the mean of the <strong>absolute values</strong> of the forecast errors.</p></li>
</ul>
</section>
<section id="forecast-accuracy-4" class="level2">
<h2 class="anchored" data-anchor-id="forecast-accuracy-4">Forecast Accuracy</h2>
<ul>
<li><p><strong>Mean Squared Error (MSE)</strong>: MSE also avoids the problem of positive and negative errors offsetting one another. It is the average of the squared forecast errors.</p></li>
<li><p><strong>Mean Absolute Percentage Error (MAPE)</strong>: The size of MAE and MSE depend upon the scale of the data, so it is difficult to make comparisons for different time periods. To make such comparisons, we need to work with relative or percentage error measures. Percentage Error is the error divided by the observed value of the time series. The MAPE is the average of the absolute percentage errors of the forecasts.</p></li>
</ul>
</section>
<section id="forecast-accuracy-example-naïve-forecast" class="level2">
<h2 class="anchored" data-anchor-id="forecast-accuracy-example-naïve-forecast">Forecast Accuracy: Example Naïve Forecast</h2>
<div class="nonincremental">
<!---- To forecast for time $t+1$, we use time series data up to and including time $t$. There are different ways of using this data.--->
<ul>
<li><p>To demonstrate the computation of these measures of forecast accuracy, let’s introduce the simplest of forecasting methods: the <strong>naïve forecasting method</strong></p></li>
<li><p>The <strong>naïve forecasting method</strong> uses only the most recent observation in the time series as the forecast for the next time period.</p></li>
</ul>
<p><span class="math display">\[
F_{t+1} = Y_t, \text{ the actual observed value in period } t
\]</span></p>
</div>
</section>
<section id="forecast-accuracy-example-naïve-forecast-1" class="level2">
<h2 class="anchored" data-anchor-id="forecast-accuracy-example-naïve-forecast-1">Forecast Accuracy: Example Naïve Forecast</h2>
<div style="font-size: 60%;">
<p><strong>Gasoline sale time series</strong></p>
<table class="caption-top table">
<colgroup>
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header">
<th>Week</th>
<th>Observed Time series</th>
<th>Naïve Forecast</th>
<th>Forecast error</th>
<th>Absolute value of forecast error</th>
<th>Squared forecast error</th>
<th>Percentage error</th>
<th>Absolute value of percentage error</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>17</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>2</td>
<td>21</td>
<td>17</td>
<td>4</td>
<td>4</td>
<td>16</td>
<td>19.05 = <span class="math inline">\(\frac{4}{21}\)</span></td>
<td>19.05</td>
</tr>
<tr class="odd">
<td>3</td>
<td>19</td>
<td>21</td>
<td>-2</td>
<td>2</td>
<td>4</td>
<td>-10.53</td>
<td>10.53</td>
</tr>
<tr class="even">
<td>4</td>
<td>23</td>
<td>19</td>
<td>4</td>
<td>4</td>
<td>16</td>
<td>17.39</td>
<td>17.39</td>
</tr>
<tr class="odd">
<td>5</td>
<td>18</td>
<td>23</td>
<td>-5</td>
<td>5</td>
<td>25</td>
<td>-27.78</td>
<td>27.78</td>
</tr>
<tr class="even">
<td>6</td>
<td>16</td>
<td>18</td>
<td>-2</td>
<td>2</td>
<td>4</td>
<td>-12.5</td>
<td>12.5</td>
</tr>
<tr class="odd">
<td>7</td>
<td>20</td>
<td>16</td>
<td>4</td>
<td>4</td>
<td>16</td>
<td>20.00</td>
<td>20.00</td>
</tr>
<tr class="even">
<td>8</td>
<td>18</td>
<td>20</td>
<td>-2</td>
<td>2</td>
<td>4</td>
<td>-11.11</td>
<td>11.11</td>
</tr>
<tr class="odd">
<td>9</td>
<td>22</td>
<td>18</td>
<td>4</td>
<td>4</td>
<td>16</td>
<td>18.18</td>
<td>18.18</td>
</tr>
<tr class="even">
<td>10</td>
<td>20</td>
<td>22</td>
<td>-2</td>
<td>2</td>
<td>4</td>
<td>-10.00</td>
<td>10.00</td>
</tr>
<tr class="odd">
<td>11</td>
<td>15</td>
<td>20</td>
<td>-5</td>
<td>5</td>
<td>25</td>
<td>-33.33</td>
<td>33.33</td>
</tr>
<tr class="even">
<td>12</td>
<td>22</td>
<td>15</td>
<td>7</td>
<td>7</td>
<td>49</td>
<td>31.82</td>
<td>31.82</td>
</tr>
<tr class="odd">
<td>Totals</td>
<td></td>
<td></td>
<td>5</td>
<td>41</td>
<td>179</td>
<td>1.19</td>
<td>211.69</td>
</tr>
</tbody>
</table>
<ul>
<li><p>Week 2: the postive forecast error indicates that the forecasting method underestimated the actual value of sales.</p></li>
<li><p>Week 3: the negative forecast error indicates that the forecasting method overestimated the actual value of sales.</p></li>
</ul>
</div>
</section>
<section id="forecast-accuracy-example-naïve-forecast-2" class="level2">
<h2 class="anchored" data-anchor-id="forecast-accuracy-example-naïve-forecast-2">Forecast Accuracy: Example Naïve Forecast</h2>
<div style="font-size: 80%;">
<p><strong>Gasoline sale time series</strong>: Naive Forecast Accuracy</p>
<ul>
<li><strong>Mean Absolute Error (MAE)</strong>: It is the mean of the <strong>absolute values</strong> of the forecast errors.</li>
</ul>
<div class="fragment">
<p><span class="math display">\[
\text{MAE} = \frac{41}{11} = 3.73
\]</span></p>
<ul>
<li><strong>Mean Squared Error (MSE)</strong>: It is the average of the squared forecast errors.</li>
</ul>
</div>
<div class="fragment">
<p><span class="math display">\[
\text{MSE} = \frac{179}{11} = 16.27
\]</span></p>
</div>
<div class="fragment">
<ul>
<li><p>The size of <strong>MAE</strong> and <strong>MSE</strong> depends upon the scale of the data. So, it is not recommended to make comparisons for different time intervals (e.g.&nbsp;months vs weeks).</p></li>
<li><p>To make comparisons like these we need relative or percentage error measues like <strong>MAPE</strong>.</p></li>
<li><p><strong>Mean Absolute Percentage Error (MAPE)</strong>: It is the average of the absolute percentage errors of the forecasts.</p></li>
</ul>
</div>
<div class="fragment">
<p><span class="math display">\[
\text{MAPE} = \frac{211.69}{11} = 19.24\%
\]</span></p>
</div>
</div>
</section>
<section id="forecast-accuracy-example-historical-data-average" class="level2">
<h2 class="anchored" data-anchor-id="forecast-accuracy-example-historical-data-average">Forecast Accuracy: Example Historical Data Average</h2>
<p>Let’s use the <strong>average of all the historical data</strong> available as the forecast for the next period.</p>
<div class="fragment">
<p>We begin by developing a forecast for Week 2. Since there is only one historical value available prior to Week 2, the forecast for Week 2 is just the time series value in Week 1. Thus, the forecast for Week 2 is 17 thousand gallons of gasoline.</p>
</div>
<div class="fragment">
<p>To compute the forecast for Week 3, we take the average of the sales values in Weeks 1 and 2:</p>
<p><span class="math display">\[
\text{Forecast for week 3} = \frac{17 + 21}{2} = 19
\]</span></p>
</div>
<div class="fragment">
<p>Similarly, the forecast for Week 4 is:</p>
<p><span class="math display">\[
\text{Forecast for week 4} = \frac{17 + 21 + 19}{3} = 19
\]</span></p>
</div>
</section>
<section id="forecast-accuracy-example-historical-data-average-1" class="level2">
<h2 class="anchored" data-anchor-id="forecast-accuracy-example-historical-data-average-1">Forecast Accuracy: Example Historical Data Average</h2>
<div style="font-size: 70%;">
<p>The forecasts obtained using this method for the gasoline time series are:</p>
<table class="caption-top table">
<colgroup>
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header">
<th>Week</th>
<th>Time Series Value</th>
<th>Forecast</th>
<th>Forecast Error</th>
<th>Absolute Value of Forecast Error</th>
<th>Squared Forecast Error</th>
<th>Percentage Error</th>
<th>Absolute Value of Percentage Error</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>17</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>2</td>
<td>21</td>
<td>17.00</td>
<td>4.00</td>
<td>4.00</td>
<td>16.00</td>
<td>19.05</td>
<td>19.05</td>
</tr>
<tr class="odd">
<td>3</td>
<td>19</td>
<td>19.00</td>
<td>0.00</td>
<td>0.00</td>
<td>0.00</td>
<td>0.00</td>
<td>0.00</td>
</tr>
<tr class="even">
<td>4</td>
<td>23</td>
<td>19.00</td>
<td>4.00</td>
<td>4.00</td>
<td>16.00</td>
<td>17.39</td>
<td>17.39</td>
</tr>
<tr class="odd">
<td>5</td>
<td>18</td>
<td>20.00</td>
<td>-2.00</td>
<td>2.00</td>
<td>4.00</td>
<td>-11.11</td>
<td>11.11</td>
</tr>
<tr class="even">
<td>6</td>
<td>16</td>
<td>19.60</td>
<td>-3.60</td>
<td>3.60</td>
<td>12.96</td>
<td>-22.50</td>
<td>22.50</td>
</tr>
<tr class="odd">
<td>7</td>
<td>20</td>
<td>19.00</td>
<td>1.00</td>
<td>1.00</td>
<td>1.00</td>
<td>5.00</td>
<td>5.00</td>
</tr>
<tr class="even">
<td>8</td>
<td>18</td>
<td>19.14</td>
<td>-1.14</td>
<td>1.14</td>
<td>1.31</td>
<td>-6.35</td>
<td>6.35</td>
</tr>
<tr class="odd">
<td>9</td>
<td>22</td>
<td>19.00</td>
<td>3.00</td>
<td>3.00</td>
<td>9.00</td>
<td>13.64</td>
<td>13.64</td>
</tr>
<tr class="even">
<td>10</td>
<td>20</td>
<td>19.33</td>
<td>0.67</td>
<td>0.67</td>
<td>0.44</td>
<td>3.33</td>
<td>3.33</td>
</tr>
<tr class="odd">
<td>11</td>
<td>15</td>
<td>19.40</td>
<td>-4.40</td>
<td>4.40</td>
<td>19.36</td>
<td>-29.33</td>
<td>29.33</td>
</tr>
<tr class="even">
<td>12</td>
<td>22</td>
<td>19.00</td>
<td>3.00</td>
<td>3.00</td>
<td>9.00</td>
<td>13.64</td>
<td>13.64</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td>Totals</td>
<td>4.53</td>
<td>26.81</td>
<td>89.07</td>
<td>2.76</td>
<td>141.34</td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="forecast-accuracy-example-historical-data-average-2" class="level2">
<h2 class="anchored" data-anchor-id="forecast-accuracy-example-historical-data-average-2">Forecast Accuracy: Example Historical Data Average</h2>
<p>Using the results shown, we obtained the following values of MAE, MSE, and MAPE:</p>
<p><span class="math display">\[
\text{MAE} = \frac{26.81}{11} = 2.44
\]</span></p>
<p><span class="math display">\[
\text{MSE} = \frac{89.07}{11} = 8.10
\]</span></p>
<p><span class="math display">\[
\text{MAPE} = \frac{141.34}{11} = 12.85\%
\]</span></p>
</section>
<section id="forecast-accuracy-comparison-of-forecasting-methods" class="level2">
<h2 class="anchored" data-anchor-id="forecast-accuracy-comparison-of-forecasting-methods">Forecast Accuracy: Comparison of Forecasting Methods</h2>
<p>We can now compare the accuracy of the two forecasting methods we have considered by comparing the values of MAE, MSE, and MAPE for each method.</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th></th>
<th>Naive Method</th>
<th>Average of Past Values</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>MAE</strong></td>
<td>3.73</td>
<td>2.44</td>
</tr>
<tr class="even">
<td><strong>MSE</strong></td>
<td>16.27</td>
<td>8.10</td>
</tr>
<tr class="odd">
<td><strong>MAPE</strong></td>
<td>19.24%</td>
<td>12.85%</td>
</tr>
</tbody>
</table>
<p>For every measure, the average of past values provides more accurate forecasts than using the most recent observation as the forecast for the next period.</p>
<ul>
<li><p>If the underlying time series is <strong>stationary</strong>, the average of all the historical data will generally provide the best results.</p></li>
<li><p>If the time series is <strong>not stationary</strong>, adjustments are needed.</p></li>
</ul>
<div class="fragment">
<p>In cases where the time series shifts to a new level (e.g., due to contract changes), the naive method might adapt faster than the averaging method.</p>
</div>
</section>
<section id="importance-of-forecast-accuracy-and-adaptability" class="level2">
<h2 class="anchored" data-anchor-id="importance-of-forecast-accuracy-and-adaptability">Importance of Forecast Accuracy and Adaptability</h2>
<p>Measures of forecast accuracy are crucial but should not be the sole basis for choosing a forecasting method.</p>
<ul>
<li><p>Consider the business context and the likelihood of changes in the time series level.</p></li>
<li><p>Historical forecast accuracy should be weighed alongside the ability of the method to adapt to shifts.</p></li>
</ul>
</section>
</section>
<section id="moving-averages-and-exponential-smoothing" class="level1" data-background-color="#cfb991">
<h1 data-background-color="#cfb991">Moving Averages and Exponential Smoothing</h1>
<section id="moving-averages-and-exponential-smoothing-1" class="level2">
<h2 class="anchored" data-anchor-id="moving-averages-and-exponential-smoothing-1">Moving Averages and Exponential Smoothing</h2>
<ul>
<li>Three forecasting methods that are appropriate for a time series with a <strong>horizontal pattern</strong>:</li>
</ul>
<ol type="1">
<li><p>Moving Averages (MAs)</p></li>
<li><p>Weighted Moving Averages</p></li>
<li><p>Exponentially Weighted Moving Averages (EWMAs)</p></li>
</ol>
<ul>
<li><p>They are called <strong>smoothing methods</strong> because their objective is to smooth out the random fluctuations (due to random errors or noises) in the time series.</p></li>
<li><p>They are most appropriate for <strong>short-range forecasts</strong>.</p></li>
</ul>
</section>
</section>
<section id="moving-averages" class="level1" data-background-color="#cfb991">
<h1 data-background-color="#cfb991">Moving Averages</h1>
<section id="moving-averages-1" class="level2">
<h2 class="anchored" data-anchor-id="moving-averages-1">Moving Averages</h2>
<p>The <strong>moving averages</strong> method uses the average of the most recent <em>k</em> data values in the time series as the forecast for the next period. Mathematically, a moving average forecast of order <em>k</em> is as follows:</p>
<div class="callout callout-style-default callout-note callout-titled" title="Moving Average Forecast of Order $k$">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Moving Average Forecast of Order <span class="math inline">\(k\)</span>
</div>
</div>
<div class="callout-body-container callout-body">
<div class="nonincremental">
<p><span class="math display">\[
F_{t+1} = \frac{\sum (\text{most recent } k \text{ data values})}{k} = \frac{Y_t + Y_{t-1} + \cdots + Y_{t-k+1}}{k}
\]</span></p>
<p>where:</p>
<ul>
<li><span class="math inline">\(F_{t+1}\)</span> = forecast of the time series for period <span class="math inline">\(t + 1\)</span></li>
<li><span class="math inline">\(Y_t\)</span> = actual value of the time series in period <span class="math inline">\(t\)</span></li>
</ul>
</div>
</div>
</div>
<ul>
<li><p>Each observation in the moving average calculation receives the same weight <span class="math inline">\((1/k)\)</span>.</p></li>
<li><p>The term <strong>moving</strong> is used because every time a new observation becomes available for the time series, it replaces the oldest observation in the equation.</p></li>
<li><p>As a result, the average will change, or move, as new observations become available.</p></li>
</ul>
</section>
<section id="moving-averages-2" class="level2">
<h2 class="anchored" data-anchor-id="moving-averages-2">Moving Averages</h2>
<p><br></p>
<ul>
<li><p>To use moving averages to forecast, we must first select the <em>span</em> (the <em>order</em>), which is the number of observed time series values to be included in the moving average.</p>
<ul>
<li>A smaller value of <em>k</em> will track shifts in a time series more quickly than a larger value of <em>k</em>.</li>
<li>A larger value of <em>k</em>, the smoother the MA. Less sensitive to changes in the given time series.</li>
<li>If more past observations are considered relevant, then a larger value of <em>k</em> is better.</li>
</ul></li>
</ul>
</section>
<section id="moving-averages-3" class="level2">
<h2 class="anchored" data-anchor-id="moving-averages-3">Moving Averages</h2>
<div style="font-size: 70%;">
<p><strong>Example</strong>: Gasoline sale time series: three-week moving average (<span class="math inline">\(k = 3\)</span>)</p>
<p><br></p>
<table class="caption-top table">
<colgroup>
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header">
<th>Week</th>
<th>Time series value</th>
<th>Forecast</th>
<th>Forecast error</th>
<th>Absolute value of forecast error</th>
<th>Squared forecast error</th>
<th>Percentage error</th>
<th>Absolute value of percentage error</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>17</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>2</td>
<td>21</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>3</td>
<td>19</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>4</td>
<td>23</td>
<td><span class="math inline">\(\frac{(17 + 21 + 19)}{3} = 19\)</span></td>
<td>4</td>
<td>4</td>
<td>16</td>
<td>17.39</td>
<td>17.39</td>
</tr>
<tr class="odd">
<td>5</td>
<td>18</td>
<td><span class="math inline">\(\frac{21 + 19 + 23}{3} = 21\)</span></td>
<td>-3</td>
<td>3</td>
<td>9</td>
<td>-16.67</td>
<td>16.67</td>
</tr>
<tr class="even">
<td>6</td>
<td>16</td>
<td>20</td>
<td>-4</td>
<td>4</td>
<td>16</td>
<td>-25.00</td>
<td>25.00</td>
</tr>
<tr class="odd">
<td>7</td>
<td>20</td>
<td>19</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>5.00</td>
<td>5.00</td>
</tr>
<tr class="even">
<td>8</td>
<td>18</td>
<td>18</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0.00</td>
<td>0.00</td>
</tr>
<tr class="odd">
<td>9</td>
<td>22</td>
<td>18</td>
<td>4</td>
<td>4</td>
<td>16</td>
<td>18.18</td>
<td>18.18</td>
</tr>
<tr class="even">
<td>10</td>
<td>20</td>
<td>20</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0.00</td>
<td>0.00</td>
</tr>
<tr class="odd">
<td>11</td>
<td>15</td>
<td>20</td>
<td>-5</td>
<td>5</td>
<td>25</td>
<td>-33.33</td>
<td>33.33</td>
</tr>
<tr class="even">
<td>12</td>
<td>22</td>
<td>19</td>
<td>3</td>
<td>3</td>
<td>9</td>
<td>13.64</td>
<td>13.64</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td>Totals</td>
<td>0</td>
<td>24</td>
<td>92</td>
<td>-20.79</td>
<td>129.21</td>
</tr>
</tbody>
</table>
<p><br></p>
<p><br></p>
</div>
</section>
<section id="moving-averages-4" class="level2">
<h2 class="anchored" data-anchor-id="moving-averages-4">Moving Averages</h2>
<p><strong>Example</strong>: Gasoline sale time series: three-week moving average</p>
<p><span class="math display">\[
\text{MAE} = \frac{24}{9} = 2.67
\]</span></p>
<p><span class="math display">\[
\text{MSE} = \frac{92}{9} = 10.22
\]</span></p>
<p><span class="math display">\[
\text{MAPE} = \frac{129.21}{9} = 14.36\%
\]</span></p>
<ul>
<li>The three-week moving average approach provided more accurate forecasts than the naïve approach (19.24%).</li>
</ul>
</section>
<section id="moving-averages-plot" class="level2">
<h2 class="anchored" data-anchor-id="moving-averages-plot">Moving Averages Plot</h2>
<p><br></p>
<p><strong>Example</strong>: Gasoline sales time series: three-week moving average</p>
<p><br></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/moving_averages_excel.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%"></p>
</figure>
</div>
</div>
</div>
<ul>
<li>The Figure shows the original time series plot and the three-week moving average forecasts.</li>
<li>Note how the graph of the moving average forecasts has tended to smooth out the random fluctuations in the time series. <br></li>
</ul>
</section>
<section id="moving-averages-excel" class="level2">
<h2 class="anchored" data-anchor-id="moving-averages-excel">Moving Averages: Excel</h2>
<div class="nonincremental">
<p><strong>Enter/Access Data</strong>: Open the file <em>Gasoline</em>. The data are in cells A2:B13 and labels are in cells A1:B1.</p>
<ol type="1">
<li><p><strong>Step 1</strong>: Click the <strong>Data</strong> tab on the Ribbon</p></li>
<li><p><strong>Step 2</strong>: In the <strong>Analyze</strong> group, click <strong>Data Analysis</strong></p></li>
<li><p><strong>Step 3</strong>: Choose <strong>Moving Average</strong> from the list of <strong>Analysis Tools</strong> and click <strong>OK</strong></p></li>
<li><p><strong>Step 4</strong>: When the <strong>Moving Average</strong> dialog box appears:</p>
<ul>
<li>Enter <code>B2:B13</code> in the <strong>Input Range</strong> box</li>
<li>Enter <code>3</code> in the <strong>Interval</strong> box</li>
<li>Enter <code>C3</code> in the <strong>Output Range</strong> box</li>
<li>Select the check box for <strong>Chart Output</strong></li>
<li>Click <strong>OK</strong></li>
</ul></li>
</ol>
<p>The three-week moving average forecasts appear in column C of the worksheet; a chart showing the actual values of the time series and the forecasted values also appears. Forecasts for periods of other lengths can be computed easily by entering a different value in the interval box.</p>
</div>
</section>
</section>
<section id="weighted-moving-averages" class="level1" data-background-color="#cfb991">
<h1 data-background-color="#cfb991">Weighted Moving Averages</h1>
<section id="weighted-moving-averages-1" class="level2">
<h2 class="anchored" data-anchor-id="weighted-moving-averages-1">Weighted Moving Averages</h2>
<ul>
<li><p>In the moving averages method, each observation in the moving average calculation receives the same weight.</p></li>
<li><p>Weighted Moving Averages: we can select a different weight for each data value (e.g.&nbsp;the most recent observations) and then compute a weighted average of the most recent <span class="math inline">\(k\)</span> values as the forecast.</p>
<ul>
<li><p>The more recent observations are typically given more weight than older observations.</p></li>
<li><p>For convenience, the weights should sum to 1.</p></li>
</ul></li>
</ul>
</section>
<section id="weighted-moving-averages-2" class="level2">
<h2 class="anchored" data-anchor-id="weighted-moving-averages-2">Weighted Moving Averages</h2>
<p><strong>For the Gasoline data, a three-period weighted moving average (3WMA) for Week 4 is:</strong></p>
<p><span class="math display">\[
WMA_3 = \frac{1}{6}(17) + \frac{2}{6}(21) + \frac{3}{6}(19) = 19.33
\]</span></p>
<ul>
<li><p>if the weights are <span class="math inline">\(\frac{1}{6}, \frac{2}{6}, \frac{3}{6}\)</span>, which sum to 1.</p></li>
<li><p>19 is the most recent of the three observations and receives the largest weight.</p></li>
<li><p>To determine whether one particular combination of number of data values and weights provides a more accurate forecast than another combination, it is recommended to use MSE as the measure of the forecast accuracy.</p>
<ul>
<li>If we assume that the combination that is best for the past will also be best for the future, we would use the one that minimizes MSE for the historical time series to forecast the next value in the time series.</li>
</ul></li>
</ul>
</section>
</section>
<section id="exponential-smoothing-forecast" class="level1" data-background-color="#cfb991">
<h1 data-background-color="#cfb991">Exponential Smoothing Forecast</h1>
<section id="exponential-smoothing-forecast-1" class="level2">
<h2 class="anchored" data-anchor-id="exponential-smoothing-forecast-1">Exponential Smoothing Forecast</h2>
<div style="font-size: 70%;">
<ul>
<li><p>The exponential smoothing forecast is a special case of the weighted moving averages.</p></li>
<li><p>It is the weighted average of all the time series data up to the current period.</p></li>
<li><p>We select only the weight between 0 and 1 for the most recent observation. This weight is called the <em>smoothing constant</em> and is denoted by <span class="math inline">\(\alpha\)</span>.</p>
<ul>
<li><span class="math inline">\(1 - \alpha\)</span> is called the <em>damping factor</em>.</li>
</ul></li>
</ul>
</div>
<div class="fragment">
<div class="callout callout-style-default callout-note callout-titled" title="Single Exponential Smoothing Forecast">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Single Exponential Smoothing Forecast
</div>
</div>
<div class="callout-body-container callout-body">
<p><span class="math display">\[
F_{t+1} = \alpha Y_t + (1 - \alpha) F_t
\]</span></p>
<p>where</p>
<div class="nonincremental">
<ul>
<li><span class="math inline">\(F_{t+1}\)</span> = forecast of the time series for period <span class="math inline">\(t + 1\)</span></li>
<li><span class="math inline">\(Y_t\)</span> = actual value of the time series in period <span class="math inline">\(t\)</span></li>
<li><span class="math inline">\(F_t\)</span> = forecast of the time series for period <span class="math inline">\(t\)</span></li>
<li><span class="math inline">\(\alpha\)</span> = smoothing constant <span class="math inline">\((0 \leq \alpha \leq 1)\)</span></li>
</ul>
</div>
</div>
</div>
</div>
<div style="font-size: 70%;">
<ul>
<li><p>There are a number of exponential smoothing procedures.</p></li>
<li><p>The term <em>exponential smoothing</em> comes from the exponential nature of the weighting scheme for the historical values.</p>
<ul>
<li>The weights assigned to the time series values decrease exponentially as the “age” of the data values increases.</li>
</ul></li>
<li><p>The statistic computed in each period is called the <em>Exponentially Weighted Moving Average</em> (EWMA).</p></li>
</ul>
</div>
</section>
<section id="exponential-smoothing-forecast-2" class="level2">
<h2 class="anchored" data-anchor-id="exponential-smoothing-forecast-2">Exponential Smoothing Forecast</h2>
<p>Let’s illustrate by working with a time series involving only three periods of data: <span class="math inline">\(Y_1\)</span>, <span class="math inline">\(Y_2\)</span>, and <span class="math inline">\(Y_3\)</span>.</p>
<div class="fragment">
<p>To initiate, let <span class="math inline">\(F_1\)</span> equal the actual value of the time series in period 1; that is, <span class="math inline">\(F_1 = Y_1\)</span>. Hence, the forecast for period 2 is</p>
<p><span class="math display">\[
\begin{aligned}
F_2 &amp;= \alpha Y_1 + (1 - \alpha) F_1 \\
    &amp;= \alpha Y_1 + (1 - \alpha) Y_1 \\
    &amp;= Y_1
\end{aligned}
\]</span></p>
<p>Thus, the exponential smoothing forecast for period 2 is equal to the actual value of the time series in period 1.</p>
</div>
</section>
<section id="exponential-smoothing-forecast-3" class="level2">
<h2 class="anchored" data-anchor-id="exponential-smoothing-forecast-3">Exponential Smoothing Forecast</h2>
<p>The forecast for period 3 is</p>
<p><span class="math display">\[
F_3 = \alpha Y_2 + (1 - \alpha) F_2 = \alpha Y_2 + (1 - \alpha) Y_1
\]</span></p>
<p>Finally, substituting this expression for <span class="math inline">\(F_3\)</span> in the expression for <span class="math inline">\(F_4\)</span>, we obtain</p>
<p><span class="math display">\[
\begin{aligned}
F_4 &amp;= \alpha Y_3 + (1 - \alpha) F_3 \\
&amp;= \alpha Y_3 + (1 - \alpha)[\alpha Y_2 + (1 - \alpha) Y_1] \\
&amp;= \alpha Y_3 + \alpha (1 - \alpha) Y_2 + (1 - \alpha)^2 Y_1
\end{aligned}
\]</span></p>
</section>
<section id="exponential-smoothing-forecast-4" class="level2">
<h2 class="anchored" data-anchor-id="exponential-smoothing-forecast-4">Exponential Smoothing Forecast</h2>
<ul>
<li><p>The term <strong>exponential smoothing</strong> comes from the exponential nature of the weighting scheme for the historical values.</p></li>
<li><p>We now see that <span class="math inline">\(F_4\)</span> is a weighted average of the first three time series values. The sum of the coefficients, or weights, for <span class="math inline">\(Y_1\)</span>, <span class="math inline">\(Y_2\)</span>, and <span class="math inline">\(Y_3\)</span> equals 1. A similar argument can be made to show that, in general, any forecast <span class="math inline">\(F_{t+1}\)</span> is a weighted average of all the previous time series values.</p></li>
<li><p>Despite the fact that exponential smoothing provides a forecast that is a weighted average of all past observations, all past data do not need to be saved to compute the forecast for the next period. In fact, only two pieces of information are needed: <span class="math inline">\(Y_t\)</span> and <span class="math inline">\(F_t\)</span>.</p></li>
</ul>
</section>
<section id="exponential-smoothing-forecast-example" class="level2">
<h2 class="anchored" data-anchor-id="exponential-smoothing-forecast-example">Exponential Smoothing Forecast: Example</h2>
<p><strong>Gasoline sale time series</strong></p>
<p>The number of gallons of gasoline sold by a distributor over a period of 12 weeks is given below. The distributor uses exponential smoothing to forecast sales. Which value for the smoothing constant <span class="math inline">\(\alpha\)</span>, 0.2 or 0.3, gives better forecasts?</p>
<div style="font-size: 65%;">
<table class="caption-top table">
<thead>
<tr class="header">
<th><strong>Week</strong></th>
<th>Sales</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>1</strong></td>
<td>17</td>
</tr>
<tr class="even">
<td><strong>2</strong></td>
<td>21</td>
</tr>
<tr class="odd">
<td><strong>3</strong></td>
<td>19</td>
</tr>
<tr class="even">
<td><strong>4</strong></td>
<td>23</td>
</tr>
<tr class="odd">
<td><strong>5</strong></td>
<td>18</td>
</tr>
<tr class="even">
<td><strong>6</strong></td>
<td>16</td>
</tr>
<tr class="odd">
<td><strong>7</strong></td>
<td>20</td>
</tr>
<tr class="even">
<td><strong>8</strong></td>
<td>18</td>
</tr>
<tr class="odd">
<td><strong>9</strong></td>
<td>22</td>
</tr>
<tr class="even">
<td><strong>10</strong></td>
<td>20</td>
</tr>
<tr class="odd">
<td><strong>11</strong></td>
<td>15</td>
</tr>
<tr class="even">
<td><strong>12</strong></td>
<td>22</td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="exponential-smoothing-forecast-example-1" class="level2">
<h2 class="anchored" data-anchor-id="exponential-smoothing-forecast-example-1">Exponential Smoothing Forecast: Example</h2>
<div style="font-size: 70%;">
<p><strong>Gasoline sale time series</strong> with smoothing constant <span class="math inline">\(\alpha = 0.2\)</span></p>
<table class="caption-top table">
<colgroup>
<col style="width: 18%">
<col style="width: 18%">
<col style="width: 18%">
<col style="width: 18%">
<col style="width: 24%">
</colgroup>
<thead>
<tr class="header">
<th>Week</th>
<th>Time series value</th>
<th>Forecast</th>
<th>Forecast error</th>
<th>Squared forecast error</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>17</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>2</td>
<td>21</td>
<td>17</td>
<td>4.00</td>
<td>16.00</td>
</tr>
<tr class="odd">
<td>3</td>
<td>19</td>
<td><span class="math inline">\(0.2(21) + 0.8(17)=17.80\)</span></td>
<td>1.20</td>
<td>1.44</td>
</tr>
<tr class="even">
<td>4</td>
<td>23</td>
<td><span class="math inline">\(0.2(19) + 0.8(17.80)=18.04\)</span></td>
<td>4.96</td>
<td>24.60</td>
</tr>
<tr class="odd">
<td>5</td>
<td>18</td>
<td>19.03</td>
<td>-1.03</td>
<td>1.06</td>
</tr>
<tr class="even">
<td>6</td>
<td>16</td>
<td>18.83</td>
<td>-2.83</td>
<td>8.01</td>
</tr>
<tr class="odd">
<td>7</td>
<td>20</td>
<td>18.26</td>
<td>1.74</td>
<td>3.03</td>
</tr>
<tr class="even">
<td>8</td>
<td>18</td>
<td>18.61</td>
<td>-0.61</td>
<td>0.37</td>
</tr>
<tr class="odd">
<td>9</td>
<td>22</td>
<td>18.49</td>
<td>3.51</td>
<td>12.32</td>
</tr>
<tr class="even">
<td>10</td>
<td>20</td>
<td>19.19</td>
<td>0.81</td>
<td>0.66</td>
</tr>
<tr class="odd">
<td>11</td>
<td>15</td>
<td>19.35</td>
<td>-4.35</td>
<td>18.92</td>
</tr>
<tr class="even">
<td>12</td>
<td>22</td>
<td>18.48</td>
<td>3.52</td>
<td>12.39</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td>Totals</td>
<td>10.92</td>
<td>98.80</td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="exponential-smoothing-forecast-example-2" class="level2">
<h2 class="anchored" data-anchor-id="exponential-smoothing-forecast-example-2">Exponential Smoothing Forecast: Example</h2>
<p><strong>Gasoline sale time series</strong> with smoothing constant <span class="math inline">\(\alpha = 0.2\)</span></p>
<p><span class="math display">\[
\text{MSE} = \frac{98.80}{11} = 8.98
\]</span></p>
</section>
<section id="exponential-smoothing-forecast-example-3" class="level2">
<h2 class="anchored" data-anchor-id="exponential-smoothing-forecast-example-3">Exponential Smoothing Forecast: Example</h2>
<div style="font-size: 70%;">
<p><strong>Gasoline sale time series</strong> with smoothing constant <span class="math inline">\(\alpha = 0.3\)</span></p>
<table class="caption-top table">
<colgroup>
<col style="width: 8%">
<col style="width: 25%">
<col style="width: 13%">
<col style="width: 21%">
<col style="width: 32%">
</colgroup>
<thead>
<tr class="header">
<th>Week</th>
<th>Time series value</th>
<th>Forecast</th>
<th>Forecast error</th>
<th>Squared forecast error</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>17</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>2</td>
<td>21</td>
<td>17</td>
<td>4</td>
<td>16</td>
</tr>
<tr class="odd">
<td>3</td>
<td>19</td>
<td>18.20</td>
<td>0.80</td>
<td>0.64</td>
</tr>
<tr class="even">
<td>4</td>
<td>23</td>
<td>18.44</td>
<td>4.56</td>
<td>20.79</td>
</tr>
<tr class="odd">
<td>5</td>
<td>18</td>
<td>19.81</td>
<td>-1.81</td>
<td>3.28</td>
</tr>
<tr class="even">
<td>6</td>
<td>16</td>
<td>19.27</td>
<td>-3.27</td>
<td>10.69</td>
</tr>
<tr class="odd">
<td>7</td>
<td>20</td>
<td>18.29</td>
<td>1.71</td>
<td>2.92</td>
</tr>
<tr class="even">
<td>8</td>
<td>18</td>
<td>18.80</td>
<td>-0.80</td>
<td>0.64</td>
</tr>
<tr class="odd">
<td>9</td>
<td>22</td>
<td>18.56</td>
<td>3.44</td>
<td>11.83</td>
</tr>
<tr class="even">
<td>10</td>
<td>20</td>
<td>19.59</td>
<td>0.41</td>
<td>0.17</td>
</tr>
<tr class="odd">
<td>11</td>
<td>15</td>
<td>19.71</td>
<td>-4.71</td>
<td>22.18</td>
</tr>
<tr class="even">
<td>12</td>
<td>22</td>
<td>18.30</td>
<td>3.70</td>
<td>13.69</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td>Totals</td>
<td>8.03</td>
<td>102.83</td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="exponential-smoothing-forecast-example-4" class="level2">
<h2 class="anchored" data-anchor-id="exponential-smoothing-forecast-example-4">Exponential Smoothing Forecast: Example</h2>
<p><strong>Gasoline sale time series</strong> with smoothing constant <span class="math inline">\(\alpha = 0.3\)</span></p>
<p><span class="math display">\[
\text{MSE} = \frac{102.83}{11} = 9.35
\]</span></p>
<ul>
<li>Exponential smoothing (with <span class="math inline">\(\alpha = 0.2\)</span>) provided more accurate forecasts (8.98) than exponential smoothing with <span class="math inline">\(\alpha = 0.3\)</span> in this example.</li>
</ul>
</section>
<section id="exponential-smoothing-forecast-excel" class="level2">
<h2 class="anchored" data-anchor-id="exponential-smoothing-forecast-excel">Exponential Smoothing Forecast: Excel</h2>
<div class="nonincremental">
<ol type="1">
<li>Step 1: Click <strong>Data</strong> tab on the Ribbon</li>
<li>In the <strong>Analyze</strong> group, click <strong>Data Analysis</strong></li>
<li>Choose <strong>Exponential smoothing</strong> from the list of Analysis Tools and click <strong>OK</strong></li>
<li>When the Exponential smoothing dialog box appears:
<ul>
<li>Enter <strong>B2:B13</strong> in the Input Range box</li>
<li>Enter <strong>0.8</strong> in the Damping factor box</li>
<li>Enter <strong>C2</strong> in the Output Range box</li>
<li>Select <strong>Chart Output</strong></li>
</ul></li>
<li>Click <strong>OK</strong></li>
</ol>
</div>
</section>
<section id="exponential-smoothing-forecast-excel-1" class="level2">
<h2 class="anchored" data-anchor-id="exponential-smoothing-forecast-excel-1">Exponential Smoothing Forecast: Excel</h2>
<p><br></p>
<p>Gasoline sale time series with smoothing constant <span class="math inline">\(\alpha = 0.2\)</span></p>
<p><br></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/exponential_smoothing.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%"></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
</section>
</section>
<section id="forecast-with-lag-variables" class="level1" data-background-color="#cfb991">
<h1 data-background-color="#cfb991">Forecast with Lag Variables</h1>
<section id="forecast-with-lag-variables-1" class="level2">
<h2 class="anchored" data-anchor-id="forecast-with-lag-variables-1">Forecast with Lag Variables</h2>
<ul>
<li><p><strong>Lag variables</strong> are often used in time series analysis to capture the correlation (effect) of past time series values with (on) the present or future time series values.</p>
<ul>
<li><p>For example, this quarter’s sales depend on (are correlated with) sales of the last three quarters.</p></li>
<li><p>At time any <span class="math inline">\(t\)</span>, variable <span class="math inline">\(v_t\)</span> may depend on <span class="math inline">\(y_{t-1}, y_{t-2}, y_{t-3}, \dots\)</span>, which are denoted by Lag 1, Lag 2, Lag 3, respectively.</p></li>
<li><p>These lag variables are considered predictors of <span class="math inline">\(v_t\)</span>.</p></li>
</ul></li>
<li><p>This type of correlation is called <strong>autocorrelation</strong>.</p></li>
<li><p>The choice of <strong>lag order</strong> (how many periods back to look) and the selection of an appropriate forecasting model are critical for forecasting lag variables effectively.</p></li>
</ul>
</section>
<section id="forecast-with-lag-variables-global-apple-iphone-quarterly-sales" class="level2">
<h2 class="anchored" data-anchor-id="forecast-with-lag-variables-global-apple-iphone-quarterly-sales">Forecast with Lag Variables: Global Apple iPhone Quarterly Sales</h2>
<div style="font-size: 85%;">
<table class="caption-top table">
<thead>
<tr class="header">
<th>Quarter</th>
<th><span class="math inline">\(t\)</span></th>
<th>Sales ($Mil.)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Q210</td>
<td>1</td>
<td>8.75</td>
</tr>
<tr class="even">
<td>Q310</td>
<td>2</td>
<td>8.40</td>
</tr>
<tr class="odd">
<td>Q410</td>
<td>3</td>
<td>14.10</td>
</tr>
<tr class="even">
<td>Q111</td>
<td>4</td>
<td>16.24</td>
</tr>
<tr class="odd">
<td>Q211</td>
<td>5</td>
<td>18.65</td>
</tr>
<tr class="even">
<td>Q311</td>
<td>6</td>
<td>20.34</td>
</tr>
<tr class="odd">
<td>Q411</td>
<td>7</td>
<td>17.07</td>
</tr>
<tr class="even">
<td>Q112</td>
<td>8</td>
<td>37.04</td>
</tr>
<tr class="odd">
<td>Q212</td>
<td>9</td>
<td>35.06</td>
</tr>
<tr class="even">
<td>Q312</td>
<td>10</td>
<td>26.03</td>
</tr>
<tr class="odd">
<td>Q412</td>
<td>11</td>
<td>26.91</td>
</tr>
<tr class="even">
<td>Q113</td>
<td>12</td>
<td>47.79</td>
</tr>
<tr class="odd">
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
</tbody>
</table>
<center>
<span class="math inline">\(n = 32\)</span>
</center>
</div>
</section>
<section id="forecast-with-lag-variables-2" class="level2">
<h2 class="anchored" data-anchor-id="forecast-with-lag-variables-2">Forecast with Lag Variables</h2>
<p>Assume lag order is 4.</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Quarter</th>
<th><span class="math inline">\(t\)</span></th>
<th>Sales ($Mil.)</th>
<th>Lag 1</th>
<th>Lag 2</th>
<th>Lag 3</th>
<th>Lag 4</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Q210</td>
<td>1</td>
<td>8.75</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>Q310</td>
<td>2</td>
<td>8.40</td>
<td>8.75</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>Q410</td>
<td>3</td>
<td>14.10</td>
<td>8.40</td>
<td>8.75</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>Q111</td>
<td>4</td>
<td>16.24</td>
<td>14.10</td>
<td>8.40</td>
<td>8.75</td>
<td></td>
</tr>
<tr class="odd">
<td>Q211</td>
<td>5</td>
<td>18.65</td>
<td>16.24</td>
<td>14.10</td>
<td>8.40</td>
<td>8.75</td>
</tr>
<tr class="even">
<td>Q311</td>
<td>6</td>
<td>20.34</td>
<td>18.65</td>
<td>16.24</td>
<td>14.10</td>
<td>8.40</td>
</tr>
<tr class="odd">
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
</tbody>
</table>
</section>
<section id="forecast-with-lag-variables-correlations" class="level2">
<h2 class="anchored" data-anchor-id="forecast-with-lag-variables-correlations">Forecast with Lag Variables: Correlations</h2>
<table class="caption-top table">
<thead>
<tr class="header">
<th></th>
<th>Sales ($Mil.)</th>
<th>Lag 1</th>
<th>Lag 2</th>
<th>Lag 3</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Lag 1</strong></td>
<td>0.642</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><strong>Lag 2</strong></td>
<td>0.418</td>
<td>0.660</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><strong>Lag 3</strong></td>
<td>0.603</td>
<td>0.440</td>
<td>0.660</td>
<td></td>
</tr>
<tr class="even">
<td><strong>Lag 4</strong></td>
<td>0.914</td>
<td>0.605</td>
<td>0.437</td>
<td>0.664</td>
</tr>
</tbody>
</table>
</section>
<section id="forecast-with-lag-variables-full-model" class="level2">
<h2 class="anchored" data-anchor-id="forecast-with-lag-variables-full-model">Forecast with Lag Variables: Full Model</h2>
<div style="font-size: 68%;">
<p><strong>Summary Output:</strong></p>
<table class="caption-top table">
<thead>
<tr class="header">
<th><strong>Regression Statistics</strong></th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Multiple R</td>
<td>0.9226</td>
</tr>
<tr class="even">
<td>R Square</td>
<td>0.8511</td>
</tr>
<tr class="odd">
<td>Adjusted R Square</td>
<td>0.8252</td>
</tr>
<tr class="even">
<td>Standard Error</td>
<td>7.0864</td>
</tr>
<tr class="odd">
<td>Observations</td>
<td>28</td>
</tr>
</tbody>
</table>
<p><strong>ANOVA</strong></p>
<table class="caption-top table">
<thead>
<tr class="header">
<th></th>
<th>df</th>
<th>SS</th>
<th>MS</th>
<th>F</th>
<th>Significance F</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Regression</td>
<td>4</td>
<td>6602.696</td>
<td>1650.674</td>
<td>32.871</td>
<td>0.000</td>
</tr>
<tr class="even">
<td>Residual</td>
<td>23</td>
<td>1154.980</td>
<td>50.217</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>Total</td>
<td>27</td>
<td>7757.676</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>Coefficients:</strong></p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Variables</th>
<th>Coefficients</th>
<th>Standard Error</th>
<th>t Stat</th>
<th>P-value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Intercept</td>
<td>16.438</td>
<td>4.179</td>
<td>3.933</td>
<td>0.001</td>
</tr>
<tr class="even">
<td>Lag 1</td>
<td>0.011</td>
<td>0.122</td>
<td>0.091</td>
<td>0.928</td>
</tr>
<tr class="odd">
<td>Lag 2</td>
<td>-0.141</td>
<td>0.119</td>
<td>-1.188</td>
<td>0.247</td>
</tr>
<tr class="even">
<td>Lag 3</td>
<td>0.007</td>
<td>0.121</td>
<td>0.057</td>
<td>0.955</td>
</tr>
<tr class="odd">
<td>Lag 4</td>
<td>0.858</td>
<td>0.115</td>
<td>7.467</td>
<td>0.000</td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="forecast-with-lag-variables-reduced-model" class="level2">
<h2 class="anchored" data-anchor-id="forecast-with-lag-variables-reduced-model">Forecast with Lag Variables: Reduced Model</h2>
<div style="font-size: 68%;">
<p><strong>Summary Output:</strong></p>
<table class="caption-top table">
<thead>
<tr class="header">
<th><strong>Regression Statistics</strong></th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Multiple R</td>
<td>0.9144</td>
</tr>
<tr class="even">
<td>R Square</td>
<td>0.8361</td>
</tr>
<tr class="odd">
<td>Adjusted R Square</td>
<td>0.8298</td>
</tr>
<tr class="even">
<td>Standard Error</td>
<td>6.9933</td>
</tr>
<tr class="odd">
<td>Observations</td>
<td>28</td>
</tr>
</tbody>
</table>
<p><strong>ANOVA</strong></p>
<table class="caption-top table">
<thead>
<tr class="header">
<th></th>
<th>df</th>
<th>SS</th>
<th>MS</th>
<th>F</th>
<th>Significance F</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Regression</td>
<td>1</td>
<td>6486.115</td>
<td>6486.115</td>
<td>132.624</td>
<td>0.000</td>
</tr>
<tr class="even">
<td>Residual</td>
<td>26</td>
<td>1271.561</td>
<td>48.906</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>Total</td>
<td>27</td>
<td>7757.676</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>Coefficients:</strong></p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Variables</th>
<th>Coefficients</th>
<th>Standard Error</th>
<th>t Stat</th>
<th>P-value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Intercept</td>
<td>13.161</td>
<td>3.002</td>
<td>4.384</td>
<td>0.000</td>
</tr>
<tr class="even">
<td>Lag 4</td>
<td>0.813</td>
<td>0.071</td>
<td>11.516</td>
<td>0.000</td>
</tr>
</tbody>
</table>
<p><span class="math display">\[
\widehat{Sales_t} = 13.161 + (0.813) \widehat{Sales_{t-4}}
\]</span></p>
<p>where the predictor is the Lag 4 variable.</p>
</div>
</section>
<section id="forecast-with-lag-variables-excel" class="level2">
<h2 class="anchored" data-anchor-id="forecast-with-lag-variables-excel">Forecast with Lag Variables: Excel</h2>
<div style="font-size: 55%;">
<center>
<strong>Important!</strong><br>Do not include empty cells or fill empty cells with zeros in Step 2.
</center>
<p><br></p>
<div class="columns">
<div class="column" style="width:45%;">
<center>
<strong>Step 1: Set Up Your Data in Excel</strong>
</center>
<ol type="1">
<li><p><strong>Organize Your Data</strong></p>
<ul>
<li>Place your main variable (e.g., <span class="math inline">\(Y\)</span>) in one column (e.g., <strong>A</strong>) with the header “Y”.</li>
<li>Create two new columns for the lagged versions of <span class="math inline">\(Y\)</span>:
<ul>
<li><strong>“Y_lag1”</strong> for the first lag, containing values of <span class="math inline">\(Y\)</span> shifted down by one row.</li>
<li><strong>“Y_lag2”</strong> for the second lag, containing values of <span class="math inline">\(Y\)</span> shifted down by two rows.</li>
</ul></li>
</ul></li>
<li><p><strong>Create the Lagged Variables</strong></p>
<ul>
<li>In <strong>B3</strong> (under “Y_lag1”), enter the formula <code>=A2</code> to reference the previous row’s value of <span class="math inline">\(Y\)</span>.</li>
<li>In <strong>C4</strong> (under “Y_lag2”), enter the formula <code>=A2</code> to reference the value of <span class="math inline">\(Y\)</span> two rows above.
<ul>
<li>Copy these formulas down the columns to match the length of the <span class="math inline">\(Y\)</span> column.</li>
<li>Leave the first two rows empty in the lagged variable columns, as there are no lagged values for the initial observations.</li>
</ul></li>
</ul></li>
<li><p><strong>Prepare Data for Regression</strong></p>
<ul>
<li>Removing the first two rows from your analysis since they lack lagged values in an option, but it is not recommended. Start analysis from row 4 onward.</li>
</ul></li>
</ol>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:45%;">
<center>
<strong>Step 2: Run the Regression</strong>
</center>
<p><br></p>
<ol type="1">
<li><p><strong>Open the Data Analysis Tool</strong></p>
<ul>
<li><p>Go to the <strong>Data</strong> tab &gt; <strong>Data Analysis</strong>.</p></li>
<li><p>If <strong>Data Analysis</strong> isn’t visible, enable it via <strong>File</strong> &gt; <strong>Options</strong> &gt; <strong>Add-Ins</strong> &gt; <strong>Excel Add-ins</strong> &gt; <strong>Analysis ToolPak</strong>.</p></li>
</ul></li>
<li><p><strong>Select Regression</strong>: Choose <strong>Regression</strong> in the <strong>Data Analysis</strong> dialog and click <strong>OK</strong>.</p></li>
<li><p><strong>Specify the Input Range</strong></p>
<ul>
<li><p><strong>Input Y Range</strong>: Select the range of <span class="math inline">\(Y\)</span> values, excluding the first two rows (e.g., <strong>A4:A20</strong>). Do not fill empty cells with zeros.</p></li>
<li><p><strong>Input X Range</strong>: Select both lagged variable ranges (e.g., <strong>B4:C20</strong>). Do not fill empty cells with zeros.</p></li>
</ul></li>
<li><p><strong>Set Up Additional Options</strong></p>
<ul>
<li><p>Check <strong>Labels</strong> if headers were included in your input ranges.</p></li>
<li><p>Choose the output location for the regression results.</p></li>
</ul></li>
<li><p><strong>Run the Regression</strong>: Click <strong>OK</strong> to run. Excel will generate the regression output.</p></li>
</ol>
</div>
</div>
</div>
<!---
## Moving Averages and Stock Charts

<br>

:::::: nonincremental

- Particularly useful for stock prices.
- A smoothing method: Smooth out noises to see signals (trends).

**Example:**

- The **10 day** moving average (10 MA) is a new time series created from the original one as follows: The first entry of the 10 MA is the average of the first 10 daily stock prices; the second entry is the average of entries 2 to 11, etc.

- The role of length/span is very important. If the span is large, then many observations go into each average, and extreme values have relatively little effect on the forecasts.

::::::

## Moving Averages (MAs)

| Quarter | Sales (\$Mil.) | MA (5)   | MA (10) |
|---------|----------------|----------|---------|
| Q210    | 8.75           |          |         |
| Q310    | 8.40           |          |         |
| Q410    | 14.10          |          |         |
| Q111    | 16.24          |          |         |
| Q211    | 18.65          | 13.228   |         |
| Q311    | 20.34          | 15.546   |         |
| ...     | ...            | ...      | ...     |

## Amazon.com Daily Prices (1 Year)

<br>


::: {.cell layout-align="center"}
::: {.cell-output-display}
![](figs/amazon.png){fig-align='center' width=80%}
:::
:::


<br>

<br>

## Comments

- The **10 day** moving averages follow the pattern of closing prices fairly closely (ending at 1739.65).

- The **200 day** moving average is the nearly straight line across the middle of the chart, ending at 1795.30. Notice that the larger the moving average span, generally the more smoothing that is achieved.

- The **50 day** moving average is the line through the colored band on the chart. The band, sometimes called the moving average envelope, marks the **50 day MA** ± 5%.

- To a large extent, over this **12 month** period Amazon’s stock price has tended to follow this **50 day MA envelope** fairly closely.

- Drops below it are not very long-lasting and tend to be followed by fairly big price increases. Stock traders noticing this might be inclined to purchase Amazon stocks when it drops below that **50 day MA envelope**.

--->
</section>
</section>
<section id="trend-projection" class="level1" data-background-color="#cfb991">
<h1 data-background-color="#cfb991">Trend Projection</h1>
<section id="trend-projection-1" class="level2">
<h2 class="anchored" data-anchor-id="trend-projection-1">Trend Projection</h2>
<ul>
<li><p>If a time series plot exhibits a linear trend, the method of <strong>least squares regression</strong> may be used to determine a trend line (projection) for future forecasts.</p></li>
<li><p>Least squares regression determines the unique <strong>trend line forecast</strong>, which minimizes the sum of squared (forecast) errors, SSE, between the trend line forecasts (predicted values) and the actual (observed) values for the time series.</p></li>
<li><p>The independent variable is the <strong>time period</strong> and the dependent variable is the actual observed value in the time series.</p></li>
</ul>
</section>
</section>
<section id="linear-trend-regression" class="level1" data-background-color="#cfb991">
<h1 data-background-color="#cfb991">Linear Trend Regression</h1>
<section id="linear-trend-regression-1" class="level2">
<h2 class="anchored" data-anchor-id="linear-trend-regression-1">Linear Trend Regression</h2>
<div style="font-size: 70%;">
<div class="columns">
<div class="column" style="text-align: center; justify-content: center; align-items: center;">
<p><br></p>
<p><strong>Bicycle Yearly Sales Time Series</strong></p>
<center>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: center;">Time (Year)</th>
<th style="text-align: center;">Sales (1000s)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">1</td>
<td style="text-align: center;">21.6</td>
</tr>
<tr class="even">
<td style="text-align: center;">2</td>
<td style="text-align: center;">22.9</td>
</tr>
<tr class="odd">
<td style="text-align: center;">3</td>
<td style="text-align: center;">25.5</td>
</tr>
<tr class="even">
<td style="text-align: center;">4</td>
<td style="text-align: center;">21.9</td>
</tr>
<tr class="odd">
<td style="text-align: center;">5</td>
<td style="text-align: center;">23.9</td>
</tr>
<tr class="even">
<td style="text-align: center;">6</td>
<td style="text-align: center;">27.5</td>
</tr>
<tr class="odd">
<td style="text-align: center;">7</td>
<td style="text-align: center;">31.5</td>
</tr>
<tr class="even">
<td style="text-align: center;">8</td>
<td style="text-align: center;">29.7</td>
</tr>
<tr class="odd">
<td style="text-align: center;">9</td>
<td style="text-align: center;">28.6</td>
</tr>
<tr class="even">
<td style="text-align: center;">10</td>
<td style="text-align: center;">31.4</td>
</tr>
</tbody>
</table>
</center>
</div><div class="column" style="text-align: center; justify-content: center; align-items: center;">
<div class="fragment">
<p><br></p>
<p><br></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/bike_sales_reg_line_plot.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></p>
</figure>
</div>
</div>
</div>
</div>
<ul>
<li><p>Although it shows some up and down movement over the past 10 years, we can identify a linear trend line.</p></li>
<li><p>The trend line provides a reasonable approximation o the. long-run movement in the series.</p></li>
<li><p>We can use the simple linear regression method to develop such a linear trend line.</p></li>
</ul>
</div>
</div>
</div>
</section>
<section id="linear-trend-regression-2" class="level2">
<h2 class="anchored" data-anchor-id="linear-trend-regression-2">Linear Trend Regression</h2>
<p><br></p>
<div class="callout callout-style-default callout-note callout-titled" title="Linear Trend Equation">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Linear Trend Equation
</div>
</div>
<div class="callout-body-container callout-body">
<div class="nonincremental">
<p><span class="math display">\[
\hat{Y_t} = b_0 + b_1 t, \quad t = 1, 2, \ldots
\]</span></p>
<p>where:</p>
<ul>
<li><span class="math inline">\(\hat{Y_t}\)</span> = linear trend forecast of <strong>mean</strong> response for period <em>t</em></li>
<li><span class="math inline">\(b_0\)</span> = estimated intercept of the linear trend line</li>
<li><span class="math inline">\(b_1\)</span> = estimated slope of the linear trend line</li>
<li><span class="math inline">\(t\)</span> = time period</li>
</ul>
</div>
</div>
</div>
</section>
<section id="linear-trend-regression-3" class="level2">
<h2 class="anchored" data-anchor-id="linear-trend-regression-3">Linear Trend Regression</h2>
<div class="callout callout-style-default callout-note callout-titled" title="Computing the Slope and Intercept for a Linear Trend">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Computing the Slope and Intercept for a Linear Trend
</div>
</div>
<div class="callout-body-container callout-body">
<div class="nonincremental">
<p><span class="math display">\[
b_1 = \frac{\sum_{t=1}^{n} (t - \bar{t})(Y_t - \bar{Y})}{\sum_{t=1}^{n} (t - \bar{t})^2}, \quad \text{or} \quad b_1 = \frac{\sum_{t=1}^{n} t Y_t - \left( \frac{\sum_{t=1}^{n} t \sum_{t=1}^{n} Y_t}{n} \right)}{\sum_{t=1}^{n} t^2 - \left( \frac{\left(\sum_{t=1}^{n} t\right)^2}{n} \right)}
\]</span></p>
<p><span class="math display">\[
b_0 = \bar{Y} - b_1 \bar{t}
\]</span></p>
<p>Where:</p>
<ul>
<li><span class="math inline">\(Y_t\)</span> = value of the time series in period <span class="math inline">\(t\)</span></li>
<li><span class="math inline">\(n\)</span> = number of time periods (number of observations)</li>
<li><span class="math inline">\(\bar{Y}\)</span> = average value of the time series</li>
<li><span class="math inline">\(\bar{t}\)</span> = average value of <span class="math inline">\(t\)</span></li>
</ul>
</div>
</div>
</div>
</section>
<section id="linear-trend-regression-example" class="level2">
<h2 class="anchored" data-anchor-id="linear-trend-regression-example">Linear Trend Regression: Example</h2>
<div style="font-size: 70%;">
<p>To compute the <strong>linear trend equation for the bicycle sales time series</strong>, we begin the calculations by computing <span class="math inline">\(\bar{t}\)</span> and <span class="math inline">\(\bar{Y}\)</span>.</p>
<p><span class="math display">\[
\bar{t} = \frac{\sum_{t=1}^{n} t}{n} = \frac{55}{10} = 5.5
\]</span></p>
<p><span class="math display">\[
\bar{Y} = \frac{\sum_{t=1}^{n} Y_t}{n} = \frac{264.5}{10} = 26.45
\]</span></p>
<div class="fragment">
<p>Using these values, and the data, we can compute: the slope and intercept.</p>
<p><span class="math display">\[
b_1 = \frac{\sum_{t=1}^{n} (t - \bar{t})(Y_t - \bar{Y})}{\sum_{t=1}^{n} (t - \bar{t})^2} = \frac{90.75}{82.5} = 1.1
\]</span></p>
<p><span class="math display">\[
b_0 = \bar{Y} - b_1 \bar{t} = 26.45 - 1.1(5.5) = 20.4
\]</span></p>
</div>
<div class="fragment">
<p>Therefore, the linear trend equation is:</p>
<p><span class="math display">\[
\hat{Y}_t = 20.4 + 1.1t
\]</span></p>
</div>
</div>
</section>
<section id="linear-trend-regression-example-1" class="level2">
<h2 class="anchored" data-anchor-id="linear-trend-regression-example-1">Linear Trend Regression: Example</h2>
<div style="font-size: 70%;">
<p><strong>Bicycle Sales Time Series</strong></p>
<table class="caption-top table">
<colgroup>
<col style="width: 15%">
<col style="width: 15%">
<col style="width: 15%">
<col style="width: 15%">
<col style="width: 21%">
<col style="width: 15%">
</colgroup>
<thead>
<tr class="header">
<th><span class="math inline">\(t\)</span></th>
<th><span class="math inline">\(Y_1\)</span></th>
<th><span class="math inline">\(t - \bar{t}\)</span></th>
<th><span class="math inline">\(Y_1 - \bar{Y}\)</span></th>
<th><span class="math inline">\((t - \bar{t})(Y_1 - \bar{Y})\)</span></th>
<th><span class="math inline">\((t - \bar{t})^2\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>21.6</td>
<td>-4.5</td>
<td>-4.85</td>
<td>21.825</td>
<td>20.25</td>
</tr>
<tr class="even">
<td>2</td>
<td>22.9</td>
<td>-3.5</td>
<td>-3.55</td>
<td>12.425</td>
<td>12.25</td>
</tr>
<tr class="odd">
<td>3</td>
<td>25.5</td>
<td>-2.5</td>
<td>-0.95</td>
<td>2.375</td>
<td>6.25</td>
</tr>
<tr class="even">
<td>4</td>
<td>21.9</td>
<td>-1.5</td>
<td>-4.55</td>
<td>6.825</td>
<td>2.25</td>
</tr>
<tr class="odd">
<td>5</td>
<td>23.9</td>
<td>-0.5</td>
<td>-2.55</td>
<td>1.275</td>
<td>0.25</td>
</tr>
<tr class="even">
<td>6</td>
<td>27.5</td>
<td>0.5</td>
<td>1.05</td>
<td>0.525</td>
<td>0.25</td>
</tr>
<tr class="odd">
<td>7</td>
<td>31.5</td>
<td>1.5</td>
<td>5.05</td>
<td>7.575</td>
<td>2.25</td>
</tr>
<tr class="even">
<td>8</td>
<td>29.7</td>
<td>2.5</td>
<td>3.25</td>
<td>8.125</td>
<td>6.25</td>
</tr>
<tr class="odd">
<td>9</td>
<td>28.6</td>
<td>3.5</td>
<td>2.15</td>
<td>7.525</td>
<td>12.25</td>
</tr>
<tr class="even">
<td>10</td>
<td>31.4</td>
<td>4.5</td>
<td>4.95</td>
<td>22.275</td>
<td>20.25</td>
</tr>
<tr class="odd">
<td><strong>Totals</strong></td>
<td><strong>264.5</strong></td>
<td></td>
<td></td>
<td><strong>90.750</strong></td>
<td><strong>82.5</strong></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="linear-trend-regression-example-2" class="level2">
<h2 class="anchored" data-anchor-id="linear-trend-regression-example-2">Linear Trend Regression: Example</h2>
<p>Linear Trend Equation for the Bicycle Sales Time Series:</p>
<p><span class="math display">\[
\hat{Y}_t = 20.4 + 1.1t
\]</span></p>
<p>The slope 1.1 indicates that over the past 10 years the firm experienced an average growth in sales of about 1100 units per year.</p>
<div class="fragment">
<p>If we assume that the past 10-year trend in sales is a good indicator of the future, this trend equation can be used to develop forecasts for future time periods. Substituting <span class="math inline">\(t = 11\)</span> into the equation yields next year’s trend projection or forecast, <span class="math inline">\(\hat{Y}_{11}\)</span>.</p>
<p><span class="math display">\[
\hat{Y}_t = 20.4 + 1.1 \times 11 = 32.5
\]</span></p>
<p>Thus, using trend projection, we would forecast sales of 32,500 bicycles next year.</p>
</div>
</section>
<section id="linear-trend-regression-example-3" class="level2">
<h2 class="anchored" data-anchor-id="linear-trend-regression-example-3">Linear Trend Regression: Example</h2>
<div style="font-size: 80%;">
<p><strong>Bicycle Sales Time Series</strong></p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Year</th>
<th>Sales</th>
<th>Forecast</th>
<th>Forecast error</th>
<th>Squared Forecast Error</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>21.6</td>
<td>21.5</td>
<td>0.1</td>
<td>0.01</td>
</tr>
<tr class="even">
<td>2</td>
<td>22.9</td>
<td>22.6</td>
<td>0.3</td>
<td>0.09</td>
</tr>
<tr class="odd">
<td>3</td>
<td>25.5</td>
<td>23.7</td>
<td>1.8</td>
<td>3.24</td>
</tr>
<tr class="even">
<td>4</td>
<td>21.9</td>
<td>24.8</td>
<td>-2.9</td>
<td>8.41</td>
</tr>
<tr class="odd">
<td>5</td>
<td>23.9</td>
<td>25.9</td>
<td>-2.0</td>
<td>4.00</td>
</tr>
<tr class="even">
<td>6</td>
<td>27.5</td>
<td>27.8</td>
<td>0.5</td>
<td>0.25</td>
</tr>
<tr class="odd">
<td>7</td>
<td>31.5</td>
<td>28.1</td>
<td>3.4</td>
<td>11.56</td>
</tr>
<tr class="even">
<td>8</td>
<td>29.7</td>
<td>29.2</td>
<td>0.5</td>
<td>0.25</td>
</tr>
<tr class="odd">
<td>9</td>
<td>28.6</td>
<td>30.3</td>
<td>-1.7</td>
<td>2.89</td>
</tr>
<tr class="even">
<td>10</td>
<td>31.4</td>
<td>31.4</td>
<td>0.0</td>
<td>0.00</td>
</tr>
<tr class="odd">
<td>Total</td>
<td>264.5</td>
<td></td>
<td></td>
<td>30.7</td>
</tr>
</tbody>
</table>
<p><span class="math display">\[
\text{MSE} = \frac{\sum_{t=1}^{n} (Y_t - F_t)^2}{n} = \frac{30.7}{10} = 3.07
\]</span></p>
</div>
</section>
<section id="regression-output-example-excel" class="level2">
<h2 class="anchored" data-anchor-id="regression-output-example-excel">Regression Output: Example Excel</h2>
<div style="font-size: 70%;">
<div class="nonincremental">
<div class="columns">
<div class="column" style="text-align: center; justify-content: center; align-items: center;">
<ul>
<li>Enter/Access Data: Open the file Bicycle. The data are in cells A2:B11 and labels are in cells A1:B1.</li>
</ul>
<ol type="1">
<li><p><strong>Step 1</strong>: Click the <strong>Data</strong> tab on the Ribbon</p></li>
<li><p><strong>Step 2</strong>: In the <strong>Analyze</strong> group, click <strong>Data Analysis</strong></p></li>
<li><p><strong>Step 3</strong>: Choose <strong>Regression</strong> from the list of <strong>Analysis Tools</strong></p></li>
<li><p><strong>Step 4</strong>: When the <strong>Regression</strong> dialog box appears:</p>
<ul>
<li>Enter <code>B1:B11</code> in the <strong>Input Y Range</strong> box</li>
<li>Enter <code>A1:A11</code> in the <strong>Input X Range</strong> box</li>
<li>Select the check box for <strong>Labels</strong></li>
<li>Select the check box for <strong>Confidence Level</strong></li>
<li><strong>Output Range</strong>:
<ul>
<li>Enter <code>A13</code> in the <strong>Output Range</strong> box (to identify the upper left corner of the section of the worksheet where the output will appear)</li>
</ul></li>
<li>Click <strong>OK</strong></li>
</ul></li>
</ol>
</div><div class="column" style="text-align: center; justify-content: center; align-items: center;">
<p><br></p>
<p><br></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/bicicle_sales_output.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></p>
</figure>
</div>
</div>
</div>
<p><br></p>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="nonlinear-trend-regression" class="level1" data-background-color="#cfb991">
<h1 data-background-color="#cfb991">Nonlinear Trend Regression</h1>
<section id="nonlinear-trend-regression-1" class="level2">
<h2 class="anchored" data-anchor-id="nonlinear-trend-regression-1">Nonlinear Trend Regression</h2>
<div class="nonincremental">
<ul>
<li><p>Sometimes time series have a curvilinear or nonlinear trend.</p></li>
<li><p>A variety of nonlinear functions can be used to develop an estimate of the trend in a time series.</p></li>
<li><p>One example is this <strong>quadratic trend equation</strong>:</p></li>
</ul>
<p><span class="math display">\[
\hat{Y_t} = b_0 + b_1t + b_2t^2
\]</span></p>
<ul>
<li>Another example is this <strong>exponential trend equation</strong>:</li>
</ul>
<p><span class="math display">\[
\hat{Y_t} = b_0(b_1)^t
\]</span></p>
</div>
</section>
<section id="nonlinear-trend-regression-example" class="level2">
<h2 class="anchored" data-anchor-id="nonlinear-trend-regression-example">Nonlinear Trend Regression: Example</h2>
<div style="font-size: 70%;">
<p><strong>Cholesterol Revenue Time Series</strong></p>
<p>The data regarding cholesterol sales over a period of 10 years is tabulated below. A curvilinear function appears to be needed to model the long-term trend.</p>
<div class="nonincremental">
<div class="columns">
<div class="column" style="text-align: center; justify-content: center; align-items: center;">
<center>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Year</th>
<th>Revenue ($ millions)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>1</strong></td>
<td>23.1</td>
</tr>
<tr class="even">
<td><strong>2</strong></td>
<td>21.3</td>
</tr>
<tr class="odd">
<td><strong>3</strong></td>
<td>27.4</td>
</tr>
<tr class="even">
<td><strong>4</strong></td>
<td>34.6</td>
</tr>
<tr class="odd">
<td><strong>5</strong></td>
<td>33.8</td>
</tr>
<tr class="even">
<td><strong>6</strong></td>
<td>43.2</td>
</tr>
<tr class="odd">
<td><strong>7</strong></td>
<td>59.5</td>
</tr>
<tr class="even">
<td><strong>8</strong></td>
<td>64.4</td>
</tr>
<tr class="odd">
<td><strong>9</strong></td>
<td>74.2</td>
</tr>
<tr class="even">
<td><strong>10</strong></td>
<td>99.3</td>
</tr>
</tbody>
</table>
</center>
</div><div class="column" style="text-align: center; justify-content: center; align-items: center;">
<p><br></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/cholesterol_plot.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="nonlinear-trend-regression-example-excel" class="level2">
<h2 class="anchored" data-anchor-id="nonlinear-trend-regression-example-excel">Nonlinear Trend Regression: Example Excel</h2>
<div class="nonincremental">
<div class="columns">
<div class="column" style="text-align: left;">
<div style="font-size: 80%;">
<ul>
<li>Enter/Access Data: Open the file Cholesterol.</li>
</ul>
<ol type="1">
<li><p><strong>Step 1</strong>: Click the <strong>Data</strong> tab on the Ribbon</p></li>
<li><p><strong>Step 2</strong>: In the <strong>Analyze</strong> group, click <strong>Data Analysis</strong></p></li>
<li><p><strong>Step 3</strong>: Choose <strong>Regression</strong> from the list of <strong>Analysis Tools</strong></p></li>
<li><p><strong>Step 4</strong>: When the <strong>Regression</strong> dialog box appears:</p>
<ul>
<li>Enter <code>C1:C11</code> in the <strong>Input Y Range</strong> box</li>
<li>Enter <code>A1:B11</code> in the <strong>Input X Range</strong> box</li>
<li>Select the check box for <strong>Labels</strong></li>
<li>Select the check box for <strong>Confidence Level</strong></li>
<li><strong>Output Range</strong>:
<ul>
<li>Enter <code>A13</code> in the <strong>Output Range</strong> box (to identify the upper left corner of the section of the worksheet where the output will appear)</li>
</ul></li>
<li>Click <strong>OK</strong></li>
</ul></li>
</ol>
</div>
</div><div class="column" style="text-align: left;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/cholesterol_reg.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%"></p>
</figure>
</div>
</div>
</div>
<div style="font-size: 50%;">
<p>The estimated regression equation is:</p>
<p><span class="math display">\[
\hat{Y}_t = 24.1817 - 2.1060t + 0.9216t^2
\]</span></p>
<p>The forecast of sales revenue for year 11 is:</p>
<p><span class="math display">\[
\hat{Y}_t = 24.1817 - 2.1060(11) + 0.9216(11)^2 = 112.53, \quad \text{or} \quad \approx \text{\$112.5 million}.
\]</span></p>
<p><br></p>
</div>
</div>
</div>
</div>
</section>
<section id="nonlinear-trend-regression-example-excel-1" class="level2">
<h2 class="anchored" data-anchor-id="nonlinear-trend-regression-example-excel-1">Nonlinear Trend Regression: Example Excel</h2>
<div class="nonincremental">
<div class="columns">
<div class="column" style="width:30%;">
<div style="font-size: 60%;">
<p>Steps for Creating a Scatter Plot with Trendline</p>
<ul>
<li><strong>Enter/Access Data</strong>: Open the file <em>Cholesterol</em></li>
</ul>
<ol type="1">
<li><strong>Step 1</strong>: Select cells <strong>B2:B11</strong></li>
<li><strong>Step 2</strong>: Click the <strong>Insert</strong> tab on the Ribbon</li>
<li><strong>Step 3</strong>: In the <strong>Charts</strong> group, click the <strong>Insert Scatter (X, Y) or Bubble Chart</strong> button</li>
<li><strong>Step 4</strong>: When the list of scatter diagram subtypes appears, click the <strong>Scatter</strong> button (the chart in the upper left corner)</li>
<li><strong>Step 5</strong>: Click <strong>OK</strong>; the scatter diagram will appear in the current worksheet</li>
<li><strong>Step 6</strong>: Position the mouse pointer over any data point in the scatter diagram, right-click, and choose <strong>Add Trendline</strong></li>
<li><strong>Step 7</strong>: In the <strong>Format Trendline</strong> dialog box:
<ul>
<li>Choose <strong>Polynomial</strong> from the <strong>Trend/Regression Type</strong> list</li>
<li>Enter <strong>2</strong> in the <strong>Order</strong> box</li>
<li>Choose <strong>Display Equation on chart</strong></li>
</ul></li>
</ol>
</div>
</div><div class="column" style="width:30%;">
<p><br></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/cholesterol_polinomial_excel_plot.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:40%;">
<p><br></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/cholesterol_polinomial_plot.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="seasonality-without-trend" class="level1" data-background-color="#cfb991">
<h1 data-background-color="#cfb991">Seasonality Without Trend</h1>
<section id="seasonality-without-trend-1" class="level2">
<h2 class="anchored" data-anchor-id="seasonality-without-trend-1">Seasonality Without Trend</h2>
<ul>
<li><p>When seasonality exists, we need to incorporate it into our forecasting models to ensure accurate forecasts.</p></li>
<li><p>We will first look at the case of a <strong>seasonal time series with no trend</strong> and then discuss how to model <strong>seasonality with trend</strong>.</p></li>
<li><p><strong>Seasonal patterns</strong> are recognized by seeing the same repeating pattern of highs and lows over successive and short periods of time (within a “short” period of time).</p>
<ul>
<li><p>A seasonal pattern might occur within a day, week, month, quarter, year, or some other interval no greater than a year.</p></li>
<li><p>A seasonal pattern does not necessarily refer to the four seasons of the year (spring, summer, fall, and winter).</p></li>
</ul></li>
</ul>
</section>
<section id="seasonality-without-trend-example" class="level2">
<h2 class="anchored" data-anchor-id="seasonality-without-trend-example">Seasonality Without Trend: Example</h2>
<div class="columns">
<div class="column" style="width:30%;">
<div style="font-size: 60%;">
<center>
<strong>Umbrella Quarterly Sales Time Series</strong>
</center>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Year</th>
<th>Quarter</th>
<th>Sales</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>1</td>
<td>125</td>
</tr>
<tr class="even">
<td>1</td>
<td>2</td>
<td>153</td>
</tr>
<tr class="odd">
<td>1</td>
<td>3</td>
<td>106</td>
</tr>
<tr class="even">
<td>1</td>
<td>4</td>
<td>88</td>
</tr>
<tr class="odd">
<td>2</td>
<td>1</td>
<td>118</td>
</tr>
<tr class="even">
<td>2</td>
<td>2</td>
<td>161</td>
</tr>
<tr class="odd">
<td>2</td>
<td>3</td>
<td>133</td>
</tr>
<tr class="even">
<td>2</td>
<td>4</td>
<td>102</td>
</tr>
<tr class="odd">
<td>3</td>
<td>1</td>
<td>138</td>
</tr>
<tr class="even">
<td>3</td>
<td>2</td>
<td>144</td>
</tr>
<tr class="odd">
<td>3</td>
<td>3</td>
<td>113</td>
</tr>
<tr class="even">
<td>3</td>
<td>4</td>
<td>80</td>
</tr>
<tr class="odd">
<td>4</td>
<td>1</td>
<td>109</td>
</tr>
<tr class="even">
<td>4</td>
<td>2</td>
<td>137</td>
</tr>
<tr class="odd">
<td>4</td>
<td>3</td>
<td>125</td>
</tr>
<tr class="even">
<td>4</td>
<td>4</td>
<td>109</td>
</tr>
<tr class="odd">
<td>5</td>
<td>1</td>
<td>130</td>
</tr>
<tr class="even">
<td>5</td>
<td>2</td>
<td>165</td>
</tr>
<tr class="odd">
<td>5</td>
<td>3</td>
<td>128</td>
</tr>
<tr class="even">
<td>5</td>
<td>4</td>
<td>96</td>
</tr>
</tbody>
</table>
</div>
</div><div class="column" style="width:70%;">
<p><br></p>
<div class="fragment">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/umbrela_sales.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="seasonality-without-trend-example-1" class="level2">
<h2 class="anchored" data-anchor-id="seasonality-without-trend-example-1">Seasonality Without Trend: Example</h2>
<div class="columns">
<div class="column" style="width:70%;">
<center>
<strong>Umbrella Quarterly Sales Time Series</strong>
</center>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/umbrela_sales.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:30%;">
<p><br></p>
<div style="font-size: 70%;">
<ul>
<li><p>The time series plot does not clearly indicate any long-term trend in sales.</p></li>
<li><p>However, close inspection of the plot does reveal a seasonal pattern.</p>
<ul>
<li>The first and third quarters have moderate sales,</li>
<li>the second quarter has the highest sales, and</li>
<li>the fourth quarter tends to be the lowest quarter in terms of sales.</li>
</ul></li>
</ul>
</div>
</div>
</div>
</section>
<section id="seasonality-without-trend-example-2" class="level2">
<h2 class="anchored" data-anchor-id="seasonality-without-trend-example-2">Seasonality Without Trend: Example</h2>
<ul>
<li><p>Recall that dummy variables can be used to deal with categorical independent variables in a multiple regression model.</p></li>
<li><p>We will treat the season as a categorical variable.</p></li>
<li><p>Recall that when a categorical variable has <span class="math inline">\(k\)</span> levels, <span class="math inline">\(k - 1\)</span> dummy variables are required.</p></li>
<li><p>If there are four seasons, we have the following dummy variables with <span class="math inline">\(Qtr4\)</span> being the reference level:</p></li>
</ul>
<div style="font-size: 90%;">
<div class="fragment">
<p><span class="math display">\[
\text{Qtr1} =
\begin{cases}
1 &amp; \text{if Quarter 1} \\
0 &amp; \text{otherwise}
\end{cases}
\quad
\text{Qtr2} =
\begin{cases}
1 &amp; \text{if Quarter 2} \\
0 &amp; \text{otherwise}
\end{cases}
\quad
\text{Qtr3} =
\begin{cases}
1 &amp; \text{if Quarter 3} \\
0 &amp; \text{otherwise}
\end{cases}
\]</span></p>
</div>
</div>
</section>
<section id="seasonality-without-trend-example-3" class="level2">
<h2 class="anchored" data-anchor-id="seasonality-without-trend-example-3">Seasonality Without Trend: Example</h2>
<div class="columns">
<div class="column" style="text-align: center; justify-content: center; align-items: center;">
<div style="font-size: 50%;">
<table class="caption-top table">
<thead>
<tr class="header">
<th>Year</th>
<th>Quarter</th>
<th>Qtr1</th>
<th>Qtr2</th>
<th>Qtr3</th>
<th>Sales</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>125</td>
</tr>
<tr class="even">
<td>1</td>
<td>2</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>153</td>
</tr>
<tr class="odd">
<td>1</td>
<td>3</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>106</td>
</tr>
<tr class="even">
<td>1</td>
<td>4</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>88</td>
</tr>
<tr class="odd">
<td>2</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>118</td>
</tr>
<tr class="even">
<td>2</td>
<td>2</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>161</td>
</tr>
<tr class="odd">
<td>2</td>
<td>3</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>133</td>
</tr>
<tr class="even">
<td>2</td>
<td>4</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>102</td>
</tr>
<tr class="odd">
<td>3</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>138</td>
</tr>
<tr class="even">
<td>3</td>
<td>2</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>144</td>
</tr>
<tr class="odd">
<td>3</td>
<td>3</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>113</td>
</tr>
<tr class="even">
<td>3</td>
<td>4</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>80</td>
</tr>
<tr class="odd">
<td>4</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>109</td>
</tr>
<tr class="even">
<td>4</td>
<td>2</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>137</td>
</tr>
<tr class="odd">
<td>4</td>
<td>3</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>125</td>
</tr>
<tr class="even">
<td>4</td>
<td>4</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>109</td>
</tr>
<tr class="odd">
<td>5</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>130</td>
</tr>
<tr class="even">
<td>5</td>
<td>2</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>165</td>
</tr>
<tr class="odd">
<td>5</td>
<td>3</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>128</td>
</tr>
<tr class="even">
<td>5</td>
<td>4</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>96</td>
</tr>
</tbody>
</table>
</div>
</div><div class="column" style="text-align: center; justify-content: center; align-items: center;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/umbrela_reg_output.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="seasonality-without-trend-example-4" class="level2">
<h2 class="anchored" data-anchor-id="seasonality-without-trend-example-4">Seasonality Without Trend: Example</h2>
<div class="nonincremental">
<ul>
<li><strong>General Form of Estimated Regression Equation</strong></li>
</ul>
<p><span class="math display">\[
\hat{Y} = b_0 + b_1(Qtr1) + b_2(Qtr2) + b_3(Qtr3)
\]</span></p>
<div class="fragment">
<ul>
<li><strong>Estimated Regression Equation</strong></li>
</ul>
<p><span class="math display">\[
\text{Forecasted Sales} = 95.0 + 29.0(Qtr1) + 57.0(Qtr2) + 26.0(Qtr3)
\]</span></p>
</div>
<div class="fragment">
<ul>
<li><p><strong>Forecast of Mean Quarterly Sales in Year 6</strong></p>
<ul>
<li>Quarter 1: Sales = 95 + 29(1) + 57(0) + 26(0) = 124</li>
<li>Quarter 2: Sales = 95 + 29(0) + 57(1) + 26(0) = 152</li>
<li>Quarter 3: Sales = 95 + 29(0) + 57(0) + 26(1) = 121</li>
<li>Quarter 4: Sales = 95 + 29(0) + 57(0) + 26(0) = 95</li>
</ul></li>
</ul>
</div>
</div>
</section>
<section id="seasonality-without-trend-example-5" class="level2">
<h2 class="anchored" data-anchor-id="seasonality-without-trend-example-5">Seasonality Without Trend: Example</h2>
<p>Note that we could have obtained the quarterly forecasts for next year simply by computing the average number of umbrellas sold in each quarter:</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Year</th>
<th>Quarter 1</th>
<th>Quarter 2</th>
<th>Quarter 3</th>
<th>Quarter 4</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>125</td>
<td>153</td>
<td>106</td>
<td>88</td>
</tr>
<tr class="even">
<td>2</td>
<td>118</td>
<td>161</td>
<td>133</td>
<td>102</td>
</tr>
<tr class="odd">
<td>3</td>
<td>138</td>
<td>144</td>
<td>113</td>
<td>80</td>
</tr>
<tr class="even">
<td>4</td>
<td>109</td>
<td>137</td>
<td>125</td>
<td>109</td>
</tr>
<tr class="odd">
<td>5</td>
<td>130</td>
<td>165</td>
<td>128</td>
<td>96</td>
</tr>
<tr class="even">
<td><strong>Average</strong></td>
<td><strong>124</strong></td>
<td><strong>152</strong></td>
<td><strong>121</strong></td>
<td><strong>95</strong></td>
</tr>
</tbody>
</table>
<p>Nonetheless, the regression output provides additional information that can be used to assess the accuracy of the forecast and determine the significance of the results.</p>
</section>
</section>
<section id="seasonality-and-trend" class="level1" data-background-color="#cfb991">
<h1 data-background-color="#cfb991">Seasonality and Trend</h1>
<section id="seasonality-and-trend-example" class="level2">
<h2 class="anchored" data-anchor-id="seasonality-and-trend-example">Seasonality and Trend: Example</h2>
<div class="columns">
<div class="column" style="text-align: center; justify-content: center; align-items: center;">
<div style="font-size: 70%;">
<p><strong>Smartphone Quarterly Sales Data (in Thousands)</strong></p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Year</th>
<th>Quarter</th>
<th>Sales (1000s)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>1</td>
<td>4.8</td>
</tr>
<tr class="even">
<td></td>
<td>2</td>
<td>4.1</td>
</tr>
<tr class="odd">
<td></td>
<td>3</td>
<td>6.0</td>
</tr>
<tr class="even">
<td></td>
<td>4</td>
<td>6.5</td>
</tr>
<tr class="odd">
<td>2</td>
<td>1</td>
<td>5.8</td>
</tr>
<tr class="even">
<td></td>
<td>2</td>
<td>5.2</td>
</tr>
<tr class="odd">
<td></td>
<td>3</td>
<td>6.8</td>
</tr>
<tr class="even">
<td></td>
<td>4</td>
<td>7.4</td>
</tr>
<tr class="odd">
<td>3</td>
<td>1</td>
<td>6.0</td>
</tr>
<tr class="even">
<td></td>
<td>2</td>
<td>5.6</td>
</tr>
<tr class="odd">
<td></td>
<td>3</td>
<td>7.5</td>
</tr>
<tr class="even">
<td></td>
<td>4</td>
<td>7.8</td>
</tr>
<tr class="odd">
<td>4</td>
<td>1</td>
<td>6.3</td>
</tr>
<tr class="even">
<td></td>
<td>2</td>
<td>5.9</td>
</tr>
<tr class="odd">
<td></td>
<td>3</td>
<td>8.0</td>
</tr>
<tr class="even">
<td></td>
<td>4</td>
<td>8.4</td>
</tr>
</tbody>
</table>
</div>
</div><div class="column" style="text-align: center; justify-content: center; align-items: center;">
<p><br></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/smartphone_plot.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="seasonality-and-trend-example-1" class="level2">
<h2 class="anchored" data-anchor-id="seasonality-and-trend-example-1">Seasonality and Trend: Example</h2>
<p><strong>Multiple Regression Equation for Seasonal Effects and Trend</strong></p>
<p>The general form of the estimated multiple regression equation for modeling both the quarterly seasonal effects and the linear trend in the smartphone time series is as follows:</p>
<p><span class="math display">\[
\hat{Y}_t = b_0 + b_1 \text{Qtr1} + b_2 \text{Qtr2} + b_3 \text{Qtr3} + b_4 t
\]</span></p>
<p><strong>where</strong></p>
<ul>
<li><span class="math inline">\(\hat{Y}_t\)</span> = estimate or forecast of sales in period <span class="math inline">\(t\)</span></li>
<li>Qtr1 = 1 if time period <span class="math inline">\(t\)</span> corresponds to the first quarter of the year; 0 otherwise</li>
<li>Qtr2 = 1 if time period <span class="math inline">\(t\)</span> corresponds to the second quarter of the year; 0 otherwise</li>
<li>Qtr3 = 1 if time period <span class="math inline">\(t\)</span> corresponds to the third quarter of the year; 0 otherwise</li>
<li><span class="math inline">\(t\)</span> = time period</li>
</ul>
</section>
<section id="seasonality-and-trend-example-2" class="level2">
<h2 class="anchored" data-anchor-id="seasonality-and-trend-example-2">Seasonality and Trend: Example</h2>
<div class="columns">
<div class="column" style="text-align: center; justify-content: center; align-items: center;">
<div style="font-size: 70%;">
<p>Quarterly Sales Data with Indicators and Period</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Year</th>
<th>Quarter</th>
<th>Qtr1</th>
<th>Qtr2</th>
<th>Qtr3</th>
<th>Period</th>
<th>Sales (1000s)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>4.8</td>
</tr>
<tr class="even">
<td></td>
<td>2</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>2</td>
<td>4.1</td>
</tr>
<tr class="odd">
<td></td>
<td>3</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>3</td>
<td>6.0</td>
</tr>
<tr class="even">
<td></td>
<td>4</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>4</td>
<td>6.5</td>
</tr>
<tr class="odd">
<td>2</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>5</td>
<td>5.8</td>
</tr>
<tr class="even">
<td></td>
<td>2</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>6</td>
<td>5.2</td>
</tr>
<tr class="odd">
<td></td>
<td>3</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>7</td>
<td>6.8</td>
</tr>
<tr class="even">
<td></td>
<td>4</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>8</td>
<td>7.4</td>
</tr>
<tr class="odd">
<td>3</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>9</td>
<td>6.0</td>
</tr>
<tr class="even">
<td></td>
<td>2</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>10</td>
<td>5.6</td>
</tr>
<tr class="odd">
<td></td>
<td>3</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>11</td>
<td>7.5</td>
</tr>
<tr class="even">
<td></td>
<td>4</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>12</td>
<td>7.8</td>
</tr>
<tr class="odd">
<td>4</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>13</td>
<td>6.3</td>
</tr>
<tr class="even">
<td></td>
<td>2</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>14</td>
<td>5.9</td>
</tr>
<tr class="odd">
<td></td>
<td>3</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>15</td>
<td>8.0</td>
</tr>
<tr class="even">
<td></td>
<td>4</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>16</td>
<td>8.4</td>
</tr>
</tbody>
</table>
</div>
</div><div class="column" style="text-align: center; justify-content: center; align-items: center;">
<p><br></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/umbrela_reg_output_trend.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="seasonality-and-trend-example-3" class="level2">
<h2 class="anchored" data-anchor-id="seasonality-and-trend-example-3">Seasonality and Trend: Example</h2>
<div style="font-size: 70%;">
<p><strong>General Form of Estimated Regression Equation</strong></p>
<p><span class="math display">\[
\hat{Y} = b_0 + b_1 Qtr1 + b_2 \cdot Qtr2 + b_3 \cdot Qtr3 + b_4 \cdot t
\]</span></p>
<p>Where <span class="math inline">\(t\)</span> is the time period <span class="math inline">\(t = 1, 2, \ldots\)</span></p>
<div class="fragment">
<center>
<strong>Estimated Regression Equation</strong>
</center>
<p><strong>Forecast for Time Period 17 (Quarter 1 in Year 5)</strong></p>
<p><span class="math display">\[
\text{Sales} = 6.07 - 1.36(1) - 2.03(0) - .304(0) + .146(17) = 7.19
\]</span></p>
</div>
<div class="fragment">
<p><strong>Forecast for Time Period 18 (Quarter 2 in Year 5)</strong></p>
<p><span class="math display">\[
\text{Sales} = 6.07 - 1.36(0) - 2.03(1) - .304(0) + .146(18) = 6.67
\]</span></p>
</div>
<div class="fragment">
<p><strong>Forecast for Time Period 19 (Quarter 3 in Year 5)</strong></p>
<p><span class="math display">\[
\text{Sales} = 6.07 - 1.36(0) - 2.03(0) - .304(1) + .146(19) = 8.54
\]</span></p>
</div>
<div class="fragment">
<p><strong>Forecast for Time Period 20 (Quarter 4 in Year 5)</strong></p>
<p><span class="math display">\[
\text{Sales} = 6.07 - 1.36(0) - 2.03(0) - .304(0) + .146(20) = 8.99
\]</span></p>
</div>
<div class="fragment">
<p>Thus, accounting for the seasonal effects and the linear trend in smartphone sales, the estimates of quarterly sales in year 5 are 7190, 6670, 8540, and 8990.</p>
</div>
</div>
</section>
<section id="seasonality-and-trend-example-4" class="level2">
<h2 class="anchored" data-anchor-id="seasonality-and-trend-example-4">Seasonality and Trend: Example</h2>
<div style="font-size: 65%;">
<p>The dummy variables in the estimated multiple regression equation provide four estimated multiple regression equations, one for each quarter.</p>
<p><span class="math display">\[
\text{Quarter 1: Sales} = 6.07 - 1.36(1) - 2.03(0) - .304(0) + .146t = 4.71 + .146t
\]</span></p>
<p>Similarly, if time period <span class="math inline">\(t\)</span> corresponds to quarters 2, 3, and 4, the estimates of quarterly sales are:</p>
<p><span class="math display">\[
\begin{align*}
\text{Quarter 2: Sales} &amp; = 6.07 - 1.36(0) - 2.03(1) - .304(0) + .146t = 4.04 + .146t \\
\text{Quarter 3: Sales} &amp; = 6.07 - 1.36(0) - 2.03(0) - .304(1) + .146t = 5.77 + .146t \\
\text{Quarter 4: Sales} &amp; = 6.07 - 1.36(0) - 2.03(0) - .304(0) + .146t = 6.07 + .146t
\end{align*}
\]</span></p>
<div class="fragment">
<p><strong>Interpretation of the Regression Coefficients</strong></p>
<p>The slope of the trend line for each quarterly forecast equation is .146, indicating a growth in sales of about 146 smartphones per quarter.</p>
<p>The only difference in the four equations is that they have different intercepts.</p>
<p>For instance, the intercept for the quarter 1 equation is 4.71 and the intercept for the quarter 4 equation is 6.07. Thus, sales in quarter 1 are</p>
<p><span class="math display">\[
4.71 - 6.07 = -1.36
\]</span></p>
<p>or 1360 smartphones less than in quarter 4.</p>
<p>In other words, the estimated regression coefficient for Qtr1 provides an estimate of the difference in sales between quarter 1 and quarter 4.</p>
</div>
</div>
</section>
</section>
<section id="time-series-decomposition" class="level1" data-background-color="#cfb991">
<h1 data-background-color="#cfb991">Time Series Decomposition</h1>
<section id="time-series-decomposition-motivation" class="level2">
<h2 class="anchored" data-anchor-id="time-series-decomposition-motivation">Time Series Decomposition: Motivation</h2>
<div style="font-size: 80%;">
<ul>
<li><p>Understanding what is really going on with a time series often depends upon the use of deseasonalized data.</p></li>
<li><p>For example, we might be interested in learning whether electrical power consumption is increasing in our area.</p></li>
<li><p>Suppose we learn that electric power consumption in September is down 3% from the previous month. <strong>Is it correct to conclude that the electric power consumption is decreasing?</strong></p></li>
<li><p>We must be careful with such information, because whenever a seasonal influence is present, such comparisons may be misleading if the data have not been deseasonalized.</p></li>
<li><p>The fact that electric power consumption is down 3% from August to September might be only the seasonal effect associated with a decrease in the use of air conditioning and not because of a long-term decline in the use of electric power.</p></li>
<li><p>Indeed, after adjusting for the seasonal effect, we might even find that the use of electric power increased.</p></li>
<li><p>Many other time series, such as unemployment statistics, home sales, and retail sales, are subject to strong seasonal influences. It is important to deseasonalize such data before making a judgment about any long-term trend.</p></li>
</ul>
</div>
</section>
<section id="time-series-decomposition-1" class="level2">
<h2 class="anchored" data-anchor-id="time-series-decomposition-1">Time Series Decomposition</h2>
<p>Time series decomposition can be used to separate or decompose a time series. It assumes that <span class="math inline">\(Y_t\)</span>, the actual time series value at period <span class="math inline">\(t\)</span>, is a function of three components:</p>
<ul>
<li>A <strong>trend</strong> component</li>
<li>A <strong>seasonal</strong> component</li>
<li>An <strong>irregular</strong> or error component</li>
</ul>
<div class="fragment">
<p>How these three components are combined to generate the observed values of the time series depends upon whether we assume the relationship is best described by an <strong>additive</strong> or a <strong>multiplicative</strong> model.</p>
</div>
</section>
<section id="choosing-between-additive-and-multiplicative-models" class="level2">
<h2 class="anchored" data-anchor-id="choosing-between-additive-and-multiplicative-models">Choosing Between Additive and Multiplicative Models</h2>
<ul>
<li><p>If the seasonal fluctuations change over time, growing larger as the sales volume increases because of a long-term linear trend, then a <strong>multiplicative model</strong> should be used.</p></li>
<li><p>Many business and economic time series follow this pattern.</p></li>
</ul>
</section>
<section id="additive-decomposition-model" class="level2">
<h2 class="anchored" data-anchor-id="additive-decomposition-model">Additive Decomposition Model</h2>
<ul>
<li><p>An additive model is appropriate in situations where the seasonal fluctuations do not depend upon the level of the time series.</p></li>
<li><p>If the sizes of the seasonal fluctuations in earlier time periods are about the same as the sizes of the seasonal fluctuations in later time periods, an additive model is appropriate.</p></li>
</ul>
</section>
<section id="additive-decomposition-model-1" class="level2">
<h2 class="anchored" data-anchor-id="additive-decomposition-model-1">Additive Decomposition Model</h2>
<p>An <strong>additive decomposition model</strong> takes the following form:</p>
<p><span class="math display">\[
Y_t = Trend_t + Seasonal_t + Irregular_t
\]</span></p>
<p>where</p>
<ul>
<li><p><span class="math inline">\(Trend_t\)</span> = trend value at time period <span class="math inline">\(t\)</span></p></li>
<li><p><span class="math inline">\(Seasonal_t\)</span> = seasonal value at time period <span class="math inline">\(t\)</span></p></li>
<li><p><span class="math inline">\(Irregular_t\)</span> = irregular value at time period <span class="math inline">\(t\)</span></p></li>
<li><p>In an additive model, the values for the three components are simply added together to obtain the actual time series value <span class="math inline">\(Y_t\)</span>.</p></li>
<li><p>The irregular or error component accounts for the variability in the time series that cannot be explained by the trend and seasonal components.</p></li>
</ul>
</section>
<section id="multiplicative-decomposition-model" class="level2">
<h2 class="anchored" data-anchor-id="multiplicative-decomposition-model">Multiplicative Decomposition Model</h2>
<p>A <strong>multiplicative decomposition model</strong> takes the following form:</p>
<p><span class="math display">\[
Y_t = Trend_t \times Seasonal_t \times Irregular_t
\]</span></p>
<p>where</p>
<ul>
<li><p><span class="math inline">\(Trend_t\)</span> = trend value at time period <span class="math inline">\(t\)</span></p></li>
<li><p><span class="math inline">\(Seasonal_t\)</span> = seasonal index at time period <span class="math inline">\(t\)</span></p></li>
<li><p><span class="math inline">\(Irregular_t\)</span> = irregular index at time period <span class="math inline">\(t\)</span></p></li>
<li><p>The Census Bureau uses a multiplicative model in conjunction with its methodology for <strong>deseasonalizing time series</strong>.</p></li>
</ul>
</section>
<section id="multiplicative-decomposition-model-1" class="level2">
<h2 class="anchored" data-anchor-id="multiplicative-decomposition-model-1">Multiplicative Decomposition Model</h2>
<p>In this model, the trend, seasonal, and irregular components are multiplied to give the value of the time series.</p>
<ul>
<li><p><strong>Trend</strong> is measured in units of the item being forecast.</p></li>
<li><p>The <strong>seasonal</strong> and <strong>irregular</strong> components are measured in relative terms:</p>
<ul>
<li>Values above 1.00 indicate effects above the trend.</li>
<li>Values below 1.00 indicate effects below the trend.</li>
</ul></li>
</ul>
</section>
<section id="multiplicative-decomposition-model-example" class="level2">
<h2 class="anchored" data-anchor-id="multiplicative-decomposition-model-example">Multiplicative Decomposition Model: Example</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/smartphone_plot.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></p>
</figure>
</div>
</div>
</div>
<ul>
<li><p>Sales are lowest in the second quarter of each year and increase in quarters 3 and 4.</p></li>
<li><p>We conclude that a seasonal pattern exists for the smartphone sales time series.</p></li>
</ul>
</section>
<section id="procedures-overview" class="level2">
<h2 class="anchored" data-anchor-id="procedures-overview">Procedures: Overview</h2>
<div style="font-size: 90%;">
<p>The computational procedure to identify each quarter’s seasonal influence begins by computing a moving average to remove the combined seasonal and irregular effects from the data, leaving us with a time series that contains only trend and any remaining random variation not removed by the moving average calculations.</p>
<ul>
<li><p><strong>Steps 1-2</strong>: Calculate centered moving averages (Initial deseasonalized data).</p></li>
<li><p><strong>Step 3</strong>: Determine the seasonal and irregular factors for each time series value. (Individual factors due to seasonality and irregularity).</p></li>
<li><p><strong>Step 4</strong>: Determine Seasonal Index (SI) for each season (Updating the factors).</p></li>
<li><p><strong>Step 5</strong>: Determine the deseasonalized data (Update the deseasonalized data using SI).</p></li>
<li><p><strong>Step 6</strong>: Determine the Trend Component of the deseasonalized data (Model trend).</p></li>
<li><p><strong>Step 7</strong>: Determine the deseasonalized predictions (based on the Trend Component). (Forecast trend).</p></li>
<li><p><strong>Step 8</strong>: Add the seasonality to the predictions.</p></li>
</ul>
</div>
</section>
<section id="multiplicative-decomposition-model-example-step-1" class="level2">
<h2 class="anchored" data-anchor-id="multiplicative-decomposition-model-example-step-1">Multiplicative Decomposition Model: Example (Step 1)</h2>
<div class="nonincremental">
<p><strong>Moving Average Calculation</strong></p>
<ul>
<li><p>Because we are working with a quarterly series, we will use four data values in each moving average.</p></li>
<li><p>The moving average calculation for the first four quarters of the smartphone sales data is:</p></li>
</ul>
<p><span class="math display">\[
\text{First moving average} = \frac{4.8 + 4.1 + 6.0 + 6.5}{4} = \frac{21.4}{4} = 5.35
\]</span></p>
</div>
</section>
<section id="multiplicative-decomposition-model-example-step-1-1" class="level2">
<h2 class="anchored" data-anchor-id="multiplicative-decomposition-model-example-step-1-1">Multiplicative Decomposition Model: Example (Step 1)</h2>
<div class="nonincremental">
<p><strong>Moving Average Calculation</strong></p>
<ul>
<li><p>Note that the moving average calculation for the first four quarters yields the average quarterly sales over year 1 of the time series.</p></li>
<li><p>Continuing the moving average calculations, we next add the 5.8 value for the first quarter of year 2 and drop the 4.8 for the first quarter of year 1.</p></li>
</ul>
<p>Thus, the second moving average is:</p>
<p><span class="math display">\[
\text{Second moving average} = \frac{4.1 + 6.0 + 6.5 + 5.8}{4} = \frac{22.4}{4} = 5.60
\]</span></p>
</div>
</section>
<section id="multiplicative-decomposition-model-example-step-1-2" class="level2">
<h2 class="anchored" data-anchor-id="multiplicative-decomposition-model-example-step-1-2">Multiplicative Decomposition Model: Example (Step 1)</h2>
<p><strong>Moving Average Calculation</strong></p>
<p>Similarly, the third moving average calculation is:</p>
<p><span class="math display">\[
(6.0 + 6.5 + 5.8 + 5.2) / 4 = 5.875
\]</span></p>
</section>
<section id="multiplicative-decomposition-model-example-step-1-3" class="level2">
<h2 class="anchored" data-anchor-id="multiplicative-decomposition-model-example-step-1-3">Multiplicative Decomposition Model: Example (Step 1)</h2>
<p>Before we proceed with the moving average calculations for the entire time series, let us return to the first moving average calculation, which resulted in a value of <strong>5.35</strong>.</p>
<ul>
<li><p>The 5.35 value is the average quarterly sales volume for year 1.</p></li>
<li><p>As we look back at the calculation of the 5.35 value, associating 5.35 with the “middle” of the moving average group makes sense.</p></li>
</ul>
</section>
<section id="multiplicative-decomposition-model-example-step-2" class="level2">
<h2 class="anchored" data-anchor-id="multiplicative-decomposition-model-example-step-2">Multiplicative Decomposition Model: Example (Step 2)</h2>
<p><strong>Period Alignment with Moving Averages</strong></p>
<p>Note that with four quarters in the moving average, there is no middle period.</p>
<ul>
<li><p>The 5.35 value really corresponds to <strong>period 2.5</strong>, the last half of quarter 2 and the first half of quarter 3.</p></li>
<li><p>Similarly, if we go to the next moving average value of 5.60, the middle period corresponds to <strong>period 3.5</strong>, the last half of quarter 3 and the first half of quarter 4.</p></li>
</ul>
</section>
<section id="multiplicative-decomposition-model-example-step-2-1" class="level2">
<h2 class="anchored" data-anchor-id="multiplicative-decomposition-model-example-step-2-1">Multiplicative Decomposition Model: Example (Step 2)</h2>
<p><strong>Centering Moving Averages</strong></p>
<p>The two moving average values we computed do not correspond directly to the original quarters of the time series.</p>
<ul>
<li><p>We can resolve this by computing the <strong>average of the two moving averages</strong>.</p></li>
<li><p>The center of the first moving average is period 2.5, and the center of the second moving average is period 3.5.</p></li>
<li><p>By averaging these, we center the moving average at <strong>quarter 3</strong>, exactly where it should be.</p></li>
</ul>
</section>
<section id="multiplicative-decomposition-model-example-step-2-2" class="level2">
<h2 class="anchored" data-anchor-id="multiplicative-decomposition-model-example-step-2-2">Multiplicative Decomposition Model: Example (Step 2)</h2>
<div class="nonincremental">
<p><strong>Centered Moving Average Calculation</strong></p>
<p>This moving average is referred to as a <strong>centered moving average</strong>.</p>
<ul>
<li>Thus, the centered moving average for period 3 is:</li>
</ul>
<p><span class="math display">\[
\frac{5.35 + 5.60}{2} = 5.475
\]</span></p>
</div>
<ul>
<li>Similarly, the centered moving average value for period 4 is:</li>
</ul>
<div class="fragment">
<p><span class="math display">\[
\frac{5.60 + 5.875}{2} = 5.738
\]</span></p>
</div>
</section>
<section id="multiplicative-decomposition-model-example-step-2-3" class="level2">
<h2 class="anchored" data-anchor-id="multiplicative-decomposition-model-example-step-2-3">Multiplicative Decomposition Model: Example (Step 2)</h2>
<div style="font-size: 65%;">
<p><strong>Centered Moving Average Calculations</strong></p>
<p>Summary of the moving average and centered moving average calculations for the smartphone sales data.</p>
</div>
<div style="font-size: 35%;">
<table class="caption-top table">
<colgroup>
<col style="width: 17%">
<col style="width: 17%">
<col style="width: 17%">
<col style="width: 25%">
<col style="width: 21%">
</colgroup>
<thead>
<tr class="header">
<th>Year</th>
<th>Quarter</th>
<th>Sales (1000s)</th>
<th>Four-Quarter Moving Average</th>
<th>Centered Moving Average</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>1</td>
<td>4.8</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>1</td>
<td>2</td>
<td>4.1</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td></td>
<td>5.350</td>
<td></td>
</tr>
<tr class="even">
<td>1</td>
<td>3</td>
<td>6.0</td>
<td></td>
<td>5.475</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td></td>
<td>5.600</td>
<td></td>
</tr>
<tr class="even">
<td>1</td>
<td>4</td>
<td>6.5</td>
<td></td>
<td>5.738</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td></td>
<td>5.875</td>
<td></td>
</tr>
<tr class="even">
<td>2</td>
<td>1</td>
<td>5.8</td>
<td></td>
<td>5.975</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td></td>
<td>6.075</td>
<td></td>
</tr>
<tr class="even">
<td>2</td>
<td>2</td>
<td>5.2</td>
<td></td>
<td>6.188</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td></td>
<td>6.300</td>
<td></td>
</tr>
<tr class="even">
<td>2</td>
<td>3</td>
<td>6.8</td>
<td></td>
<td>6.325</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td></td>
<td>6.350</td>
<td></td>
</tr>
<tr class="even">
<td>2</td>
<td>4</td>
<td>7.4</td>
<td></td>
<td>6.400</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td></td>
<td>6.450</td>
<td></td>
</tr>
<tr class="even">
<td>3</td>
<td>1</td>
<td>6.0</td>
<td></td>
<td>6.538</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td></td>
<td>6.625</td>
<td></td>
</tr>
<tr class="even">
<td>3</td>
<td>2</td>
<td>5.6</td>
<td></td>
<td>6.675</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td></td>
<td>6.725</td>
<td></td>
</tr>
<tr class="even">
<td>3</td>
<td>3</td>
<td>7.5</td>
<td></td>
<td>6.763</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td></td>
<td>6.800</td>
<td></td>
</tr>
<tr class="even">
<td>3</td>
<td>4</td>
<td>7.8</td>
<td></td>
<td>6.838</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td></td>
<td>6.875</td>
<td></td>
</tr>
<tr class="even">
<td>4</td>
<td>1</td>
<td>6.3</td>
<td></td>
<td>6.938</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td></td>
<td>7.000</td>
<td></td>
</tr>
<tr class="even">
<td>4</td>
<td>2</td>
<td>5.9</td>
<td></td>
<td>7.075</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td></td>
<td>7.150</td>
<td></td>
</tr>
<tr class="even">
<td>4</td>
<td>3</td>
<td>8.0</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>4</td>
<td>4</td>
<td>8.4</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="multiplicative-decomposition-model-example-step-3" class="level2">
<h2 class="anchored" data-anchor-id="multiplicative-decomposition-model-example-step-3">Multiplicative Decomposition Model: Example (Step 3)</h2>
<p>What do the centered moving averages tell us about this time series?</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/decomposition_plot.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%"></p>
</figure>
</div>
</div>
</div>
<div style="font-size: 70%;">
<ul>
<li><p>The Figure shows a time series plot of the actual time series values and the centered moving average values.</p></li>
<li><p>Note particularly how the centered moving average values tend to “smooth out” both the seasonal and irregular fluctuations in the time series.</p></li>
<li><p>The centered moving averages represent the <strong>trend</strong> in the data and any <strong>random variation</strong> that was not removed by using moving averages to smooth the data.</p></li>
</ul>
</div>
</section>
<section id="multiplicative-decomposition-model-example-step-4" class="level2">
<h2 class="anchored" data-anchor-id="multiplicative-decomposition-model-example-step-4">Multiplicative Decomposition Model: Example (Step 4)</h2>
<p>The multiplicative decomposition model is:</p>
<p><span class="math display">\[
Y_t = Trend_t \times Seasonal_t \times Irregular_t
\]</span></p>
<p>By dividing each side of this equation by the trend component <span class="math inline">\(T_t\)</span>, we can identify the combined seasonal-irregular effect in the time series.</p>
<p><span class="math display">\[
\frac{Y_t}{Trend_t} = \frac{Trend_t \times Seasonal_t \times Irregular_t}{Trend_t} = Seasonal_t \times Irregular_t
\]</span></p>
</section>
<section id="multiplicative-decomposition-model-example-step-4-1" class="level2">
<h2 class="anchored" data-anchor-id="multiplicative-decomposition-model-example-step-4-1">Multiplicative Decomposition Model: Example (Step 4)</h2>
<p>For example, the third quarter of year 1 shows a trend value of 5.475 (the centered moving average).</p>
<p>So:</p>
<p><span class="math display">\[
\frac{6.0}{5.475} = 1.096
\]</span></p>
<p>This is the combined seasonal-irregular value.</p>
</section>
<section id="multiplicative-decomposition-model-example-step-4-2" class="level2">
<h2 class="anchored" data-anchor-id="multiplicative-decomposition-model-example-step-4-2">Multiplicative Decomposition Model: Example (Step 4)</h2>
<div style="font-size: 65%;">
<p>Seasonal-irregular values for the entire time series.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 17%">
<col style="width: 17%">
<col style="width: 17%">
<col style="width: 22%">
<col style="width: 24%">
</colgroup>
<thead>
<tr class="header">
<th>Year</th>
<th>Quarter</th>
<th>Sales (1000s)</th>
<th>Centered Moving Average</th>
<th>Seasonal-Irregular Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>1</td>
<td>4.8</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>1</td>
<td>2</td>
<td>4.1</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>1</td>
<td>3</td>
<td>6.0</td>
<td>5.475</td>
<td>1.096</td>
</tr>
<tr class="even">
<td>1</td>
<td>4</td>
<td>6.5</td>
<td>5.738</td>
<td>1.133</td>
</tr>
<tr class="odd">
<td>2</td>
<td>1</td>
<td>5.8</td>
<td>5.975</td>
<td>0.971</td>
</tr>
<tr class="even">
<td>2</td>
<td>2</td>
<td>5.2</td>
<td>6.188</td>
<td>0.840</td>
</tr>
<tr class="odd">
<td>2</td>
<td>3</td>
<td>6.8</td>
<td>6.325</td>
<td>1.075</td>
</tr>
<tr class="even">
<td>2</td>
<td>4</td>
<td>7.4</td>
<td>6.400</td>
<td>1.156</td>
</tr>
<tr class="odd">
<td>3</td>
<td>1</td>
<td>6.0</td>
<td>6.538</td>
<td>0.918</td>
</tr>
<tr class="even">
<td>3</td>
<td>2</td>
<td>5.6</td>
<td>6.675</td>
<td>0.839</td>
</tr>
<tr class="odd">
<td>3</td>
<td>3</td>
<td>7.5</td>
<td>6.763</td>
<td>1.109</td>
</tr>
<tr class="even">
<td>3</td>
<td>4</td>
<td>7.8</td>
<td>6.838</td>
<td>1.141</td>
</tr>
<tr class="odd">
<td>4</td>
<td>1</td>
<td>6.3</td>
<td>6.938</td>
<td>0.908</td>
</tr>
<tr class="even">
<td>4</td>
<td>2</td>
<td>5.9</td>
<td>7.075</td>
<td>0.834</td>
</tr>
<tr class="odd">
<td>4</td>
<td>3</td>
<td>8.0</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>4</td>
<td>4</td>
<td>8.4</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="multiplicative-decomposition-model-example-step-4-3" class="level2">
<h2 class="anchored" data-anchor-id="multiplicative-decomposition-model-example-step-4-3">Multiplicative Decomposition Model: Example (Step 4)</h2>
<p><strong>Seasonal-Irregular Values for Third Quarter</strong></p>
<p>Consider the seasonal-irregular values for the third quarter: <strong>1.096</strong>, <strong>1.075</strong>, and <strong>1.109</strong>.</p>
<ul>
<li><p>Seasonal-irregular values greater than 1.00 indicate effects above the trend estimate, while values below 1.00 indicate effects below the trend estimate.</p></li>
<li><p>The three seasonal-irregular values for quarter 3 show an above-average effect in the third quarter.</p></li>
</ul>
</section>
<section id="multiplicative-decomposition-model-example-step-4-4" class="level2">
<h2 class="anchored" data-anchor-id="multiplicative-decomposition-model-example-step-4-4">Multiplicative Decomposition Model: Example (Step 4)</h2>
<p><strong>Averaging to Estimate Seasonal Influence</strong></p>
<p>Since the year-to-year fluctuations in the seasonal-irregular values are primarily due to random error, we can average the computed values to eliminate the irregular influence and obtain an estimate of the third-quarter seasonal influence.</p>
<p><span class="math display">\[
\text{Seasonal effect of quarter 3} = \frac{1.096 + 1.075 + 1.109}{3} = 1.09
\]</span></p>
</section>
<section id="multiplicative-decomposition-model-example-step-4-5" class="level2">
<h2 class="anchored" data-anchor-id="multiplicative-decomposition-model-example-step-4-5">Multiplicative Decomposition Model: Example (Step 4)</h2>
<p><strong>Seasonal-Irregular Values and Seasonal Indexes</strong></p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Quarter</th>
<th>Seasonal-Irregular Values</th>
<th>Seasonal Index</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>0.971, 0.918, 0.908</td>
<td>0.93</td>
</tr>
<tr class="even">
<td>2</td>
<td>0.840, 0.839, 0.834</td>
<td>0.84</td>
</tr>
<tr class="odd">
<td>3</td>
<td>1.096, 1.075, 1.109</td>
<td>1.09</td>
</tr>
<tr class="even">
<td>4</td>
<td>1.133, 1.156, 1.141</td>
<td>1.14</td>
</tr>
</tbody>
</table>
<ul>
<li><p>The seasonal indexes for the four quarters are <strong>0.93</strong>, <strong>0.84</strong>, <strong>1.09</strong>, and <strong>1.14</strong>.</p></li>
<li><p>The best sales quarter is the <strong>fourth quarter</strong>, with sales averaging <strong>14% above the trend estimate</strong>.</p></li>
<li><p>The worst, or slowest, sales quarter is the <strong>second quarter</strong>; its seasonal index of <strong>0.84</strong> shows that the sales average is <strong>16% below the trend estimate</strong>.</p></li>
<li><p>The seasonal component corresponds clearly to the intuitive expectation that smartphone sales increase when a new school year begins (quarter 3) and for the holiday season (quarter 4).</p></li>
</ul>
</section>
<section id="multiplicative-decomposition-model-example-step-4-6" class="level2">
<h2 class="anchored" data-anchor-id="multiplicative-decomposition-model-example-step-4-6">Multiplicative Decomposition Model: Example (Step 4)</h2>
<p>One final adjustment is sometimes necessary in obtaining the seasonal indexes.</p>
<ul>
<li><p>The <strong>multiplicative model</strong> requires that the average seasonal index equal <strong>1.00</strong>, so the sum of the four seasonal indexes must equal <strong>4.00</strong>.</p></li>
<li><p>In other words, the seasonal effects must even out over the year.</p></li>
<li><p>The average of the seasonal indexes in our example is equal to 1.00, so this type of adjustment is not necessary.</p></li>
</ul>
</section>
<section id="multiplicative-decomposition-model-example-step-4-7" class="level2">
<h2 class="anchored" data-anchor-id="multiplicative-decomposition-model-example-step-4-7">Multiplicative Decomposition Model: Example (Step 4)</h2>
<div class="nonincremental">
<p><strong>Making Adjustments (If Required)</strong></p>
<p>In cases where adjustment is necessary:</p>
<ul>
<li>Multiply each seasonal index by the number of seasons divided by the sum of the unadjusted seasonal indexes.</li>
</ul>
<p>For quarterly data, this means:</p>
<p><span class="math display">\[
\text{Adjusted Seasonal Index} = \frac{4}{\text{sum of the unadjusted seasonal indexes}}
\]</span></p>
</div>
</section>
<section id="deseasonalizing-the-time-series-step-5" class="level2">
<h2 class="anchored" data-anchor-id="deseasonalizing-the-time-series-step-5">Deseasonalizing the Time Series (Step 5)</h2>
<div class="nonincremental">
<p>A time series that has had the seasonal effects removed is referred to as a <strong>deseasonalized time series</strong>, and the process of using the seasonal indexes to remove the seasonal effects from a time series is referred to as <strong>deseasonalizing the time series</strong>.</p>
<ul>
<li><p>Using a multiplicative decomposition model, we deseasonalize a time series by dividing each observation by its corresponding seasonal index.</p></li>
<li><p>The multiplicative decomposition model is:</p></li>
</ul>
<p><span class="math display">\[
Y_t = Trend_t \times Seasonal_t \times Irregular_t
\]</span></p>
<p>When we divide each time series observation <span class="math inline">\(Y_t\)</span> by its corresponding seasonal index, the resulting data show only trend and random variability (the irregular component).</p>
</div>
</section>
<section id="deseasonalized-sales-data-table-step-5" class="level2">
<h2 class="anchored" data-anchor-id="deseasonalized-sales-data-table-step-5">Deseasonalized Sales Data Table (Step 5)</h2>
<div style="font-size: 70%;">
<table class="caption-top table">
<colgroup>
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 18%">
</colgroup>
<thead>
<tr class="header">
<th>Year</th>
<th>Quarter</th>
<th>Time Period</th>
<th>Sales (1000s)</th>
<th>Seasonal Index</th>
<th>Deseasonalized Sales</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>1</td>
<td>1</td>
<td>4.8</td>
<td>0.93</td>
<td>5.16</td>
</tr>
<tr class="even">
<td>1</td>
<td>2</td>
<td>2</td>
<td>4.1</td>
<td>0.84</td>
<td>4.88</td>
</tr>
<tr class="odd">
<td>1</td>
<td>3</td>
<td>3</td>
<td>6.0</td>
<td>1.09</td>
<td>5.50</td>
</tr>
<tr class="even">
<td>1</td>
<td>4</td>
<td>4</td>
<td>6.5</td>
<td>1.14</td>
<td>5.70</td>
</tr>
<tr class="odd">
<td>2</td>
<td>1</td>
<td>5</td>
<td>5.8</td>
<td>0.93</td>
<td>6.24</td>
</tr>
<tr class="even">
<td>2</td>
<td>2</td>
<td>6</td>
<td>5.2</td>
<td>0.84</td>
<td>6.19</td>
</tr>
<tr class="odd">
<td>2</td>
<td>3</td>
<td>7</td>
<td>6.8</td>
<td>1.09</td>
<td>6.24</td>
</tr>
<tr class="even">
<td>2</td>
<td>4</td>
<td>8</td>
<td>7.4</td>
<td>1.14</td>
<td>6.49</td>
</tr>
<tr class="odd">
<td>3</td>
<td>1</td>
<td>9</td>
<td>6.0</td>
<td>0.93</td>
<td>6.45</td>
</tr>
<tr class="even">
<td>3</td>
<td>2</td>
<td>10</td>
<td>5.6</td>
<td>0.84</td>
<td>6.67</td>
</tr>
<tr class="odd">
<td>3</td>
<td>3</td>
<td>11</td>
<td>7.5</td>
<td>1.09</td>
<td>6.88</td>
</tr>
<tr class="even">
<td>3</td>
<td>4</td>
<td>12</td>
<td>7.8</td>
<td>1.14</td>
<td>6.84</td>
</tr>
<tr class="odd">
<td>4</td>
<td>1</td>
<td>13</td>
<td>6.3</td>
<td>0.93</td>
<td>6.77</td>
</tr>
<tr class="even">
<td>4</td>
<td>2</td>
<td>14</td>
<td>5.9</td>
<td>0.84</td>
<td>7.02</td>
</tr>
<tr class="odd">
<td>4</td>
<td>3</td>
<td>15</td>
<td>8.0</td>
<td>1.09</td>
<td>7.34</td>
</tr>
<tr class="even">
<td>4</td>
<td>4</td>
<td>16</td>
<td>8.4</td>
<td>1.14</td>
<td>7.37</td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="deseasonalized-sales-plot-step-5" class="level2">
<h2 class="anchored" data-anchor-id="deseasonalized-sales-plot-step-5">Deseasonalized Sales Plot (Step 5)</h2>
<p><br></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/deseasonalized_plot.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%"></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
</section>
<section id="deseasonalizing-the-time-series-step-5-1" class="level2">
<h2 class="anchored" data-anchor-id="deseasonalizing-the-time-series-step-5-1">Deseasonalizing the Time Series (Step 5)</h2>
<p><strong>Identifying Trend in Deseasonalized Data</strong></p>
<p>The graph of the deseasonalized smartphone sales time series shown in the Figure appears to have an upward linear trend.</p>
<ul>
<li><p>To identify this trend, we will fit a linear trend equation to the deseasonalized time series.</p></li>
<li><p>The only difference is that we will be fitting a trend line to the deseasonalized data instead of the original data.</p></li>
</ul>
</section>
<section id="deseasonalizing-the-time-series-linear-trend-equation-step-6" class="level2">
<h2 class="anchored" data-anchor-id="deseasonalizing-the-time-series-linear-trend-equation-step-6">Deseasonalizing the Time Series: Linear Trend Equation (Step 6)</h2>
<p>Recall that for a linear trend, the estimated regression equation can be written as:</p>
<p><span class="math display">\[
T_t = b_0 + b_1 t
\]</span></p>
<p>where</p>
<ul>
<li><span class="math inline">\(T_t\)</span>: linear trend forecast in period <span class="math inline">\(t\)</span></li>
<li><span class="math inline">\(b_0\)</span>: intercept of the linear trend line</li>
<li><span class="math inline">\(b_1\)</span>: slope of the trend line</li>
<li><span class="math inline">\(t\)</span>: time period</li>
</ul>
</section>
<section id="deseasonalizing-the-time-series-fitting-a-linear-trend-line-step-6" class="level2">
<h2 class="anchored" data-anchor-id="deseasonalizing-the-time-series-fitting-a-linear-trend-line-step-6">Deseasonalizing the Time Series: Fitting a Linear Trend Line (Step 6)</h2>
<p>To fit a linear trend line to the deseasonalized data, the only change is that the deseasonalized time series values are used instead of the observed values <span class="math inline">\(Y_t\)</span> in computing <span class="math inline">\(b_0\)</span> and <span class="math inline">\(b_1\)</span>.</p>
<p>Using Excel’s Regression tool, the estimated linear trend equation is:</p>
<p><span class="math display">\[
\text{Deseasonalized Sales} = 5.10 + 0.148t
\]</span></p>
</section>
<section id="deseasonalizing-the-time-series-interpretation-of-the-slope-step-6" class="level2">
<h2 class="anchored" data-anchor-id="deseasonalizing-the-time-series-interpretation-of-the-slope-step-6">Deseasonalizing the Time Series: Interpretation of the Slope (Step 6)</h2>
<ul>
<li><p>The slope of 0.148 indicates that over the past 16 quarters, the firm averaged a deseasonalized growth in sales of about 148 smartphones per quarter.</p></li>
<li><p>If we assume that the past 16-quarter trend in sales data is a reasonably good indicator of the future, this equation can be used to develop a trend projection for future quarters.</p></li>
</ul>
</section>
<section id="deseasonalizing-the-time-series-example-projection-step-7" class="level2">
<h2 class="anchored" data-anchor-id="deseasonalizing-the-time-series-example-projection-step-7">Deseasonalizing the Time Series: Example Projection (Step 7)</h2>
<p>Substituting <span class="math inline">\(t = 17\)</span> into the equation yields next quarter’s deseasonalized trend projection, <span class="math inline">\(T_{17}\)</span>:</p>
<p><span class="math display">\[
T_{17} = 5.10 + 0.148(17) = 7.616
\]</span></p>
<p>Thus, using the deseasonalized data, the linear trend forecast for next quarter (period 17) is <strong>7616 smartphones</strong>.</p>
<p>Similarly, the deseasonalized trend forecasts for the next three quarters (periods 18, 19, and 20) are <strong>7764</strong>, <strong>7912</strong>, and <strong>8060</strong> smartphones, respectively.</p>
</section>
<section id="seasonal-adjustments-step-8" class="level2">
<h2 class="anchored" data-anchor-id="seasonal-adjustments-step-8">Seasonal Adjustments (Step 8)</h2>
<div class="nonincremental">
<p>The final step in developing the forecast when both trend and seasonal components are present is to use the seasonal indexes to adjust the deseasonalized trend projections.</p>
<ul>
<li><p>For the smartphone sales example, we have a deseasonalized trend projection for the next four quarters.</p></li>
<li><p>Now, we must adjust the forecast for the seasonal effect.</p></li>
</ul>
<p>The seasonal index for the first quarter of year 5 (<span class="math inline">\(t = 17\)</span>) is 0.93, so we obtain the quarterly forecast by multiplying the deseasonalized forecast based on trend <span class="math inline">\((T_{17} = 7616)\)</span> by the seasonal index (0.93). Thus, the forecast for the next quarter is <span class="math inline">\(7616 \times 0.93 = 7083\)</span>.</p>
</div>
</section>
<section id="seasonal-adjustments-quarterly-forecasts-table-step-8" class="level2">
<h2 class="anchored" data-anchor-id="seasonal-adjustments-quarterly-forecasts-table-step-8">Seasonal Adjustments: Quarterly Forecasts Table (Step 8)</h2>
<table class="caption-top table">
<colgroup>
<col style="width: 17%">
<col style="width: 17%">
<col style="width: 24%">
<col style="width: 17%">
<col style="width: 24%">
</colgroup>
<thead>
<tr class="header">
<th>Year</th>
<th>Quarter</th>
<th>Deseasonalized Trend Forecast</th>
<th>Seasonal Index</th>
<th>Quarterly Forecast</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>5</td>
<td>1</td>
<td>7616</td>
<td>0.93</td>
<td><span class="math inline">\(7616 \times 0.93 = 7083\)</span></td>
</tr>
<tr class="even">
<td>5</td>
<td>2</td>
<td>7764</td>
<td>0.84</td>
<td><span class="math inline">\(7764 \times 0.84 = 6522\)</span></td>
</tr>
<tr class="odd">
<td>5</td>
<td>3</td>
<td>7912</td>
<td>1.09</td>
<td><span class="math inline">\(7912 \times 1.09 = 8624\)</span></td>
</tr>
<tr class="even">
<td>5</td>
<td>4</td>
<td>8060</td>
<td>1.14</td>
<td><span class="math inline">\(8060 \times 1.14 = 9188\)</span></td>
</tr>
</tbody>
</table>
<p><br></p>
<p>The high-volume fourth quarter has a 9188-unit forecast, and the low-volume second quarter has a 6522-unit forecast.</p>
</section>
<section id="cyclical-component" class="level2">
<h2 class="anchored" data-anchor-id="cyclical-component">Cyclical Component</h2>
<div class="nonincremental">
<p>Mathematically, the multiplicative model can be expanded to include a cyclical component.</p>
<p><span class="math display">\[
Y_t = Trend_t \times Cyclical_t \times Seasonal_t \times Irregular_t
\]</span></p>
<ul>
<li><p>The cyclical component, like the seasonal component, is expressed as a percentage of trend.</p></li>
<li><p>This component is attributable to multiyear cycles in the time series.</p></li>
</ul>
<p>It is analogous to the seasonal component but over a longer period. However, due to the length of time involved, obtaining enough relevant data to estimate the cyclical component is often difficult.</p>
</div>
</section>
<section id="cyclical-component-challenges" class="level2">
<h2 class="anchored" data-anchor-id="cyclical-component-challenges">Cyclical Component: Challenges</h2>
<ul>
<li><p>Cycles usually vary in length, making it difficult to identify or separate cyclical effects from long-term trend effects.</p></li>
<li><p>In practice, these effects are often combined and referred to as a <strong>combined trend-cycle component</strong>.</p></li>
</ul>
</section>
</section>
<section id="summary" class="level1" data-background-color="#cfb991">
<h1 data-background-color="#cfb991">Summary</h1>
<section id="summary-1" class="level2">
<h2 class="anchored" data-anchor-id="summary-1">Summary</h2>
<div style="font-size: 90%;">
<div class="nonincremental">
<p>Some key takeaways from this session:</p>
<ul>
<li><p><strong>Time Series Analysis</strong>: Understand patterns (trend, seasonality, cycles) to forecast future values.</p></li>
<li><p><strong>Forecast Accuracy</strong>: Key measures include MAE, MSE, and MAPE for assessing model performance.</p></li>
<li><p><strong>Smoothing Techniques</strong>: Moving averages and exponential smoothing help in handling horizontal patterns.</p></li>
<li><p><strong>Trend and Seasonality</strong>: Apply decomposition and regression for more complex time series with trends and seasonal variations.</p></li>
</ul>
</div>
</div>
</section>
<section id="summary-2" class="level2">
<h2 class="anchored" data-anchor-id="summary-2">Summary</h2>
<div style="font-size: 60%;">
<div class="nonincremental">
<p><strong>Important</strong>: The following table is not exhaustive; it merely illustrates the examples discussed in the lecture. Remember that within the General Linear Model framework, these methods can be combined and adapted based on the specific objectives of the analysis.</p>
<p><br></p>
<table class="caption-top table">
<colgroup>
<col style="width: 18%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
</colgroup>
<thead>
<tr class="header">
<th>Forecasting Method / Pattern</th>
<th style="text-align: center;">Horizontal</th>
<th style="text-align: center;">Linear Trend</th>
<th style="text-align: center;">Non-linear Trend</th>
<th style="text-align: center;">Seasonal</th>
<th style="text-align: center;">Seasonal + Trend</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1. Naive Forecast</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td>2. Hist. Data Average Method</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td>3. Moving Average (<span class="math inline">\(k\)</span> and <span class="math inline">\(1/k\)</span>)</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td>4. Weighted Moving Average (<span class="math inline">\(k\)</span>, weights should sum to 1)</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td>5. Exponential Smoothing (<span class="math inline">\(\alpha\)</span>)</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td>6. Regression Model: Lag Variable</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
</tr>
<tr class="odd">
<td>7. Regression Model: Time as Independent Variable</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td>8. Regression Model: Time as Independent Variable with Transformation</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td>9. Regression Model: Season as Independent Variable</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td>10. Regression Model: Time and Season as Independent Variables</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
</section>
<section id="thank-you" class="level1" data-background-color="#cfb991">
<h1 data-background-color="#cfb991">Thank you!</h1>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>